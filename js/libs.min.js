(function(c){Function.prototype.bind||(Function.prototype.bind=function(c){var b=[].slice,a=b.call(arguments,1),d=this,g=function(){},f=function(){return d.apply(this instanceof g?this:c||{},a.concat(b.call(arguments)))};g.prototype=d.prototype;f.prototype=new g;return f});"undefined"===typeof c.Code&&(c.Code={});c.Code.Util={registerNamespace:function(){var e=arguments,b=null,a,d,g,f,l;a=0;for(f=e.length;a<f;a++)for(g=e[a],g=g.split("."),b=g[0],"undefined"===typeof c[b]&&(c[b]={}),b=c[b],d=1,l=g.length;d<
l;++d)b[g[d]]=b[g[d]]||{},b=b[g[d]]},coalesce:function(){var c,b;c=0;for(b=arguments.length;c<b;c++)if(!this.isNothing(arguments[c]))return arguments[c];return null},extend:function(c,b,a){var d;this.isNothing(a)&&(a=!0);if(c&&b&&this.isObject(b))for(d in b)this.objectHasProperty(b,d)&&(a?c[d]=b[d]:"undefined"===typeof c[d]&&(c[d]=b[d]))},clone:function(c){var b={};this.extend(b,c);return b},isObject:function(c){return c instanceof Object},isFunction:function(c){return"[object Function]"==={}.toString.call(c)},
isArray:function(c){return c instanceof Array},isLikeArray:function(c){return"number"===typeof c.length},isNumber:function(c){return"number"===typeof c},isString:function(c){return"string"===typeof c},isNothing:function(c){return"undefined"===typeof c||null===c?!0:!1},swapArrayElements:function(c,b,a){var d=c[b];c[b]=c[a];c[a]=d},trim:function(c){return c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},toCamelCase:function(c){return c.replace(/(\-[a-z])/g,function(b){return b.toUpperCase().replace("-",
"")})},toDashedCase:function(c){return c.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()})},arrayIndexOf:function(c,b,a){var d,g,f,l;f=-1;d=0;for(g=b.length;d<g;d++)if(l=b[d],this.isNothing(a)){if(l===c){f=d;break}}else if(this.objectHasProperty(l,a)&&l[a]===c){f=d;break}return f},objectHasProperty:function(c,b){return c.hasOwnProperty?c.hasOwnProperty(b):"undefined"!==typeof c[b]}}})(window);
(function(c,e){e.Browser={ua:null,version:null,safari:null,webkit:null,opera:null,msie:null,chrome:null,mozilla:null,android:null,blackberry:null,iPad:null,iPhone:null,iPod:null,iOS:null,is3dSupported:null,isCSSTransformSupported:null,isTouchSupported:null,isGestureSupported:null,_detect:function(){this.ua=c.navigator.userAgent;this.version=this.ua.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[];this.safari=/Safari/gi.test(c.navigator.appVersion);this.webkit=/webkit/i.test(this.ua);this.opera=/opera/i.test(this.ua);
this.msie=/msie/i.test(this.ua)&&!this.opera;this.chrome=/Chrome/i.test(this.ua);this.firefox=/Firefox/i.test(this.ua);this.fennec=/Fennec/i.test(this.ua);this.mozilla=/mozilla/i.test(this.ua)&&!/(compatible|webkit)/.test(this.ua);this.android=/android/i.test(this.ua);this.blackberry=/blackberry/i.test(this.ua);this.iOS=/iphone|ipod|ipad/gi.test(c.navigator.platform);this.iPad=/ipad/gi.test(c.navigator.platform);this.iPhone=/iphone/gi.test(c.navigator.platform);this.iPod=/ipod/gi.test(c.navigator.platform);
var b=document.createElement("div");this.is3dSupported=!e.isNothing(b.style.WebkitPerspective);this.isCSSTransformSupported=!e.isNothing(b.style.WebkitTransform)||!e.isNothing(b.style.MozTransform)||!e.isNothing(b.style.transformProperty);this.isTouchSupported=this.isEventSupported("touchstart");this.isGestureSupported=this.isEventSupported("gesturestart")},_eventTagNames:{select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},isEventSupported:function(b){var a=
document.createElement(this._eventTagNames[b]||"div"),d;b="on"+b;(d=e.objectHasProperty(a,b))||(a.setAttribute(b,"return;"),d="function"===typeof a[b]);return d},isLandscape:function(){return e.DOM.windowWidth()>e.DOM.windowHeight()}};e.Browser._detect()})(window,window.Code.Util);
(function(c,e,b){b.extend(b,{Events:{add:function(a,b,g){e(a).bind(b,g)},remove:function(a,b,g){e(a).unbind(b,g)},fire:function(a,b){var g,c=Array.prototype.slice.call(arguments).splice(2);g="string"===typeof b?{type:b}:b;e(a).trigger(e.Event(g.type,g),c)},getMousePosition:function(a){return{x:a.pageX,y:a.pageY}},getTouchEvent:function(a){return a.originalEvent},getWheelDelta:function(a){var d=0;b.isNothing(a.wheelDelta)?b.isNothing(a.detail)||(d=-a.detail/3):d=a.wheelDelta/120;return d},domReady:function(a){e(document).ready(a)}}})})(window,
window.jQuery,window.Code.Util);
(function(c,e,b){b.extend(b,{DOM:{setData:function(a,d,g){if(b.isLikeArray(a)){var c,e;c=0;for(e=a.length;c<e;c++)b.DOM._setData(a[c],d,g)}else b.DOM._setData(a,d,g)},_setData:function(a,d,g){b.DOM.setAttribute(a,"data-"+d,g)},getData:function(a,d,g){return b.DOM.getAttribute(a,"data-"+d,g)},removeData:function(a,d){if(b.isLikeArray(a)){var g,c;g=0;for(c=a.length;g<c;g++)b.DOM._removeData(a[g],d)}else b.DOM._removeData(a,d)},_removeData:function(a,d){b.DOM.removeAttribute(a,"data-"+d)},isChildOf:function(a,
b){if(b===a)return!1;for(;a&&a!==b;)a=a.parentNode;return a===b},find:function(a,d){b.isNothing(d)&&(d=c.document);var g=e(a,d),f=[],l,k;l=0;for(k=g.length;l<k;l++)f.push(g[l]);return f},createElement:function(a,b,g){a=e("<"+a+"></"+a+">");a.attr(b);a.append(g);return a[0]},appendChild:function(a,b){e(b).append(a)},insertBefore:function(a,b){e(a).insertBefore(b)},appendText:function(a,b){e(b).text(a)},appendToBody:function(a){e("body").append(a)},removeChild:function(a){e(a).empty().remove()},removeChildren:function(a){e(a).empty()},
hasAttribute:function(a,d){return!b.isNothing(e(a).attr(d))},getAttribute:function(a,d,g){a=e(a).attr(d);b.isNothing(a)&&!b.isNothing(g)&&(a=g);return a},setAttribute:function(a,d,g){if(b.isLikeArray(a)){var c,e;c=0;for(e=a.length;c<e;c++)b.DOM._setAttribute(a[c],d,g)}else b.DOM._setAttribute(a,d,g)},_setAttribute:function(a,b,g){e(a).attr(b,g)},removeAttribute:function(a,d){if(b.isLikeArray(a)){var g,c;g=0;for(c=a.length;g<c;g++)b.DOM._removeAttribute(a[g],d)}else b.DOM._removeAttribute(a,d)},_removeAttribute:function(a,
b){e(a).removeAttr(b)},addClass:function(a,d){if(b.isLikeArray(a)){var g,c;g=0;for(c=a.length;g<c;g++)b.DOM._addClass(a[g],d)}else b.DOM._addClass(a,d)},_addClass:function(a,b){e(a).addClass(b)},removeClass:function(a,d){if(b.isLikeArray(a)){var g,c;g=0;for(c=a.length;g<c;g++)b.DOM._removeClass(a[g],d)}else b.DOM._removeClass(a,d)},_removeClass:function(a,b){e(a).removeClass(b)},hasClass:function(a,b){e(a).hasClass(b)},setStyle:function(a,d,g){if(b.isLikeArray(a)){var c,e;c=0;for(e=a.length;c<e;c++)b.DOM._setStyle(a[c],
d,g)}else b.DOM._setStyle(a,d,g)},_setStyle:function(a,d,g){var c;if(b.isObject(d))for(c in d)b.objectHasProperty(d,c)&&("width"===c?b.DOM.width(a,d[c]):"height"===c?b.DOM.height(a,d[c]):e(a).css(c,d[c]));else e(a).css(d,g)},getStyle:function(a,b){return e(a).css(b)},hide:function(a){if(b.isLikeArray(a)){var d,c;d=0;for(c=a.length;d<c;d++)b.DOM._hide(a[d])}else b.DOM._hide(a)},_hide:function(a){e(a).hide()},show:function(a){if(b.isLikeArray(a)){var d,c;d=0;for(c=a.length;d<c;d++)b.DOM._show(a[d])}else b.DOM._show(a)},
_show:function(a){e(a).show()},width:function(a,d){b.isNothing(d)||e(a).width(d);return e(a).width()},outerWidth:function(a){return e(a).outerWidth()},height:function(a,d){b.isNothing(d)||e(a).height(d);return e(a).height()},outerHeight:function(a){return e(a).outerHeight()},documentWidth:function(){return e(document.documentElement).width()},documentHeight:function(){return e(document.documentElement).height()},documentOuterWidth:function(){return b.DOM.width(document.documentElement)},documentOuterHeight:function(){return b.DOM.outerHeight(document.documentElement)},
bodyWidth:function(){return e(document.body).width()},bodyHeight:function(){return e(document.body).height()},bodyOuterWidth:function(){return b.DOM.outerWidth(document.body)},bodyOuterHeight:function(){return b.DOM.outerHeight(document.body)},windowWidth:function(){return c.innerWidth?c.innerWidth:e(c).width()},windowHeight:function(){return c.innerHeight?c.innerHeight:e(c).height()},windowScrollLeft:function(){return c.pageXOffset?c.pageXOffset:e(c).scrollLeft()},windowScrollTop:function(){return c.pageYOffset?
c.pageYOffset:e(c).scrollTop()}}})})(window,window.jQuery,window.Code.Util);
(function(c,e){e.extend(e,{Animation:{_applyTransitionDelay:50,_transitionEndLabel:void 0!==c.document.documentElement.style.webkitTransition?"webkitTransitionEnd":"transitionend",_transitionEndHandler:null,_transitionPrefix:void 0!==c.document.documentElement.style.webkitTransition?"webkitTransition":void 0!==c.document.documentElement.style.MozTransition?"MozTransition":"transition",_transformLabel:void 0!==c.document.documentElement.style.webkitTransform?"webkitTransform":void 0!==c.document.documentElement.style.MozTransition?
"MozTransform":"transform",_getTransitionEndHandler:function(){e.isNothing(this._transitionEndHandler)&&(this._transitionEndHandler=this._onTransitionEnd.bind(this));return this._transitionEndHandler},stop:function(b){if(e.Browser.isCSSTransformSupported){var a={};e.Events.remove(b,this._transitionEndLabel,this._getTransitionEndHandler());e.isNothing(b.callbackLabel)&&delete b.callbackLabel;a[this._transitionPrefix+"Property"]="";a[this._transitionPrefix+"Duration"]="";a[this._transitionPrefix+"TimingFunction"]=
"";a[this._transitionPrefix+"Delay"]="";a[this._transformLabel]="";e.DOM.setStyle(b,a)}else e.isNothing(c.jQuery)||c.jQuery(b).stop(!0,!0)},fadeIn:function(b,a,d,g,f){f=e.coalesce(f,1);0>=f&&(f=1);0>=a&&(e.DOM.setStyle(b,"opacity",f),!e.isNothing(d))?d(b):(1<=e.DOM.getStyle(b,"opacity")&&e.DOM.setStyle(b,"opacity",0),e.Browser.isCSSTransformSupported?this._applyTransition(b,"opacity",f,a,d,g):e.isNothing(c.jQuery)||c.jQuery(b).fadeTo(a,f,d))},fadeTo:function(b,a,d,c,f){this.fadeIn(b,d,c,f,a)},fadeOut:function(b,
a,d,g){0>=a&&(e.DOM.setStyle(b,"opacity",0),!e.isNothing(d))?d(b):e.Browser.isCSSTransformSupported?this._applyTransition(b,"opacity",0,a,d,g):c.jQuery(b).fadeTo(a,0,d)},slideBy:function(b,a,d,g,f,l){var k={};a=e.coalesce(a,0);d=e.coalesce(d,0);l=e.coalesce(l,"ease-out");k[this._transitionPrefix+"Property"]="all";k[this._transitionPrefix+"Delay"]="0";0===g?(k[this._transitionPrefix+"Duration"]="",k[this._transitionPrefix+"TimingFunction"]=""):(k[this._transitionPrefix+"Duration"]=g+"ms",k[this._transitionPrefix+
"TimingFunction"]=e.coalesce(l,"ease-out"),e.Events.add(b,this._transitionEndLabel,this._getTransitionEndHandler()));k[this._transformLabel]=e.Browser.is3dSupported?"translate3d("+a+"px, "+d+"px, 0px)":"translate("+a+"px, "+d+"px)";e.isNothing(f)||(b.cclallcallback=f);e.DOM.setStyle(b,k);0===g&&c.setTimeout(function(){this._leaveTransforms(b)}.bind(this),this._applyTransitionDelay)},resetTranslate:function(b){var a={};a[this._transformLabel]=a[this._transformLabel]=e.Browser.is3dSupported?"translate3d(0px, 0px, 0px)":
"translate(0px, 0px)";e.DOM.setStyle(b,a)},_applyTransition:function(b,a,d,g,f,l){var k={};l=e.coalesce(l,"ease-in");k[this._transitionPrefix+"Property"]=a;k[this._transitionPrefix+"Duration"]=g+"ms";k[this._transitionPrefix+"TimingFunction"]=l;k[this._transitionPrefix+"Delay"]="0";e.Events.add(b,this._transitionEndLabel,this._getTransitionEndHandler());e.DOM.setStyle(b,k);e.isNothing(f)||(b["ccl"+a+"callback"]=f);c.setTimeout(function(){e.DOM.setStyle(b,a,d)},this._applyTransitionDelay)},_onTransitionEnd:function(b){e.Events.remove(b.currentTarget,
this._transitionEndLabel,this._getTransitionEndHandler());this._leaveTransforms(b.currentTarget)},_leaveTransforms:function(b){var a=b.style[this._transitionPrefix+"Property"],d=""!==a?"ccl"+a+"callback":"cclallcallback",g,a=e.coalesce(b.style.webkitTransform,b.style.MozTransform,b.style.transform),f,l=c.parseInt(e.DOM.getStyle(b,"left"),0),k=c.parseInt(e.DOM.getStyle(b,"top"),0),h,p,n={};""!==a&&(a=e.Browser.is3dSupported?a.match(/translate3d\((.*?)\)/):a.match(/translate\((.*?)\)/),e.isNothing(a)||
(f=a[1].split(", "),h=c.parseInt(f[0],0),p=c.parseInt(f[1],0)));n[this._transitionPrefix+"Property"]="";n[this._transitionPrefix+"Duration"]="";n[this._transitionPrefix+"TimingFunction"]="";n[this._transitionPrefix+"Delay"]="";e.DOM.setStyle(b,n);c.setTimeout(function(){e.isNothing(f)||(n={},n[this._transformLabel]="",n.left=l+h+"px",n.top=k+p+"px",e.DOM.setStyle(b,n));e.isNothing(b[d])||(g=b[d],delete b[d],g(b))}.bind(this),this._applyTransitionDelay)}}})})(window,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.Util.TouchElement");b.TouchElement.EventTypes={onTouch:"CodeUtilTouchElementOnTouch"};b.TouchElement.ActionTypes={touchStart:"touchStart",touchMove:"touchMove",touchEnd:"touchEnd",touchMoveEnd:"touchMoveEnd",tap:"tap",doubleTap:"doubleTap",swipeLeft:"swipeLeft",swipeRight:"swipeRight",swipeUp:"swipeUp",swipeDown:"swipeDown",gestureStart:"gestureStart",gestureChange:"gestureChange",gestureEnd:"gestureEnd"}})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.Util.TouchElement");b.TouchElement.TouchElementClass=e({el:null,captureSettings:null,touchStartPoint:null,touchEndPoint:null,touchStartTime:null,doubleTapTimeout:null,touchStartHandler:null,touchMoveHandler:null,touchEndHandler:null,mouseDownHandler:null,mouseMoveHandler:null,mouseUpHandler:null,mouseOutHandler:null,gestureStartHandler:null,gestureChangeHandler:null,gestureEndHandler:null,swipeThreshold:null,swipeTimeThreshold:null,doubleTapSpeed:null,dispose:function(){var a;
this.removeEventHandlers();for(a in this)b.objectHasProperty(this,a)&&(this[a]=null)},initialize:function(a,d){this.el=a;this.captureSettings={swipe:!1,move:!1,gesture:!1,doubleTap:!1,preventDefaultTouchEvents:!0};b.extend(this.captureSettings,d);this.swipeThreshold=50;this.doubleTapSpeed=this.swipeTimeThreshold=250;this.touchStartPoint={x:0,y:0};this.touchEndPoint={x:0,y:0}},addEventHandlers:function(){b.isNothing(this.touchStartHandler)&&(this.touchStartHandler=this.onTouchStart.bind(this),this.touchMoveHandler=
this.onTouchMove.bind(this),this.touchEndHandler=this.onTouchEnd.bind(this),this.mouseDownHandler=this.onMouseDown.bind(this),this.mouseMoveHandler=this.onMouseMove.bind(this),this.mouseUpHandler=this.onMouseUp.bind(this),this.mouseOutHandler=this.onMouseOut.bind(this),this.gestureStartHandler=this.onGestureStart.bind(this),this.gestureChangeHandler=this.onGestureChange.bind(this),this.gestureEndHandler=this.onGestureEnd.bind(this));b.Events.add(this.el,"touchstart",this.touchStartHandler);this.captureSettings.move&&
b.Events.add(this.el,"touchmove",this.touchMoveHandler);b.Events.add(this.el,"touchend",this.touchEndHandler);b.Events.add(this.el,"mousedown",this.mouseDownHandler);b.Browser.isGestureSupported&&this.captureSettings.gesture&&(b.Events.add(this.el,"gesturestart",this.gestureStartHandler),b.Events.add(this.el,"gesturechange",this.gestureChangeHandler),b.Events.add(this.el,"gestureend",this.gestureEndHandler))},removeEventHandlers:function(){b.Events.remove(this.el,"touchstart",this.touchStartHandler);
this.captureSettings.move&&b.Events.remove(this.el,"touchmove",this.touchMoveHandler);b.Events.remove(this.el,"touchend",this.touchEndHandler);b.Events.remove(this.el,"mousedown",this.mouseDownHandler);b.Browser.isGestureSupported&&this.captureSettings.gesture&&(b.Events.remove(this.el,"gesturestart",this.gestureStartHandler),b.Events.remove(this.el,"gesturechange",this.gestureChangeHandler),b.Events.remove(this.el,"gestureend",this.gestureEndHandler))},getTouchPoint:function(a){return{x:a[0].pageX,
y:a[0].pageY}},fireTouchEvent:function(a){var d=0,g=0,f=0,e,d=this.touchEndPoint.x-this.touchStartPoint.x,g=this.touchEndPoint.y-this.touchStartPoint.y,f=Math.sqrt(d*d+g*g);if(this.captureSettings.swipe&&(e=new Date,e-=this.touchStartTime,e<=this.swipeTimeThreshold)){if(c.Math.abs(d)>=this.swipeThreshold){b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:0>d?b.TouchElement.ActionTypes.swipeLeft:b.TouchElement.ActionTypes.swipeRight,targetEl:a.target,
currentTargetEl:a.currentTarget});return}if(c.Math.abs(g)>=this.swipeThreshold){b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:0>g?b.TouchElement.ActionTypes.swipeUp:b.TouchElement.ActionTypes.swipeDown,targetEl:a.target,currentTargetEl:a.currentTarget});return}}1<f?b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,action:b.TouchElement.ActionTypes.touchMoveEnd,point:this.touchEndPoint,targetEl:a.target,currentTargetEl:a.currentTarget}):
this.captureSettings.doubleTap?b.isNothing(this.doubleTapTimeout)?this.doubleTapTimeout=c.setTimeout(function(){this.doubleTapTimeout=null;b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:b.TouchElement.ActionTypes.tap,targetEl:a.target,currentTargetEl:a.currentTarget})}.bind(this),this.doubleTapSpeed):(c.clearTimeout(this.doubleTapTimeout),this.doubleTapTimeout=null,b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,
action:b.TouchElement.ActionTypes.doubleTap,targetEl:a.target,currentTargetEl:a.currentTarget})):b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,point:this.touchEndPoint,action:b.TouchElement.ActionTypes.tap,targetEl:a.target,currentTargetEl:a.currentTarget})},onTouchStart:function(a){this.captureSettings.preventDefaultTouchEvents&&a.preventDefault();b.Events.remove(this.el,"mousedown",this.mouseDownHandler);var d=b.Events.getTouchEvent(a).touches;1<d.length&&this.captureSettings.gesture?
this.isGesture=!0:(this.touchStartTime=new Date,this.isGesture=!1,this.touchStartPoint=this.getTouchPoint(d),b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,action:b.TouchElement.ActionTypes.touchStart,point:this.touchStartPoint,targetEl:a.target,currentTargetEl:a.currentTarget}))},onTouchMove:function(a){this.captureSettings.preventDefaultTouchEvents&&a.preventDefault();if(!this.isGesture||!this.captureSettings.gesture){var d=b.Events.getTouchEvent(a).touches;b.Events.fire(this,
{type:b.TouchElement.EventTypes.onTouch,target:this,action:b.TouchElement.ActionTypes.touchMove,point:this.getTouchPoint(d),targetEl:a.target,currentTargetEl:a.currentTarget})}},onTouchEnd:function(a){if(!this.isGesture||!this.captureSettings.gesture){this.captureSettings.preventDefaultTouchEvents&&a.preventDefault();var d=b.Events.getTouchEvent(a);this.touchEndPoint=this.getTouchPoint(b.isNothing(d.changedTouches)?d.touches:d.changedTouches);b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,
target:this,action:b.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,targetEl:a.target,currentTargetEl:a.currentTarget});this.fireTouchEvent(a)}},onMouseDown:function(a){a.preventDefault();b.Events.remove(this.el,"touchstart",this.mouseDownHandler);b.Events.remove(this.el,"touchmove",this.touchMoveHandler);b.Events.remove(this.el,"touchend",this.touchEndHandler);this.captureSettings.move&&b.Events.add(this.el,"mousemove",this.mouseMoveHandler);b.Events.add(this.el,"mouseup",this.mouseUpHandler);
b.Events.add(this.el,"mouseout",this.mouseOutHandler);this.touchStartTime=new Date;this.isGesture=!1;this.touchStartPoint=b.Events.getMousePosition(a);b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,action:b.TouchElement.ActionTypes.touchStart,point:this.touchStartPoint,targetEl:a.target,currentTargetEl:a.currentTarget})},onMouseMove:function(a){a.preventDefault();b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,action:b.TouchElement.ActionTypes.touchMove,
point:b.Events.getMousePosition(a),targetEl:a.target,currentTargetEl:a.currentTarget})},onMouseUp:function(a){a.preventDefault();this.captureSettings.move&&b.Events.remove(this.el,"mousemove",this.mouseMoveHandler);b.Events.remove(this.el,"mouseup",this.mouseUpHandler);b.Events.remove(this.el,"mouseout",this.mouseOutHandler);this.touchEndPoint=b.Events.getMousePosition(a);b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,action:b.TouchElement.ActionTypes.touchEnd,point:this.touchEndPoint,
targetEl:a.target,currentTargetEl:a.currentTarget});this.fireTouchEvent(a)},onMouseOut:function(a){var d=a.relatedTarget;this.el===d||b.DOM.isChildOf(d,this.el)||(a.preventDefault(),this.captureSettings.move&&b.Events.remove(this.el,"mousemove",this.mouseMoveHandler),b.Events.remove(this.el,"mouseup",this.mouseUpHandler),b.Events.remove(this.el,"mouseout",this.mouseOutHandler),this.touchEndPoint=b.Events.getMousePosition(a),b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,action:b.TouchElement.ActionTypes.touchEnd,
point:this.touchEndPoint,targetEl:a.target,currentTargetEl:a.currentTarget}),this.fireTouchEvent(a))},onGestureStart:function(a){a.preventDefault();var d=b.Events.getTouchEvent(a);b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,action:b.TouchElement.ActionTypes.gestureStart,scale:d.scale,rotation:d.rotation,targetEl:a.target,currentTargetEl:a.currentTarget})},onGestureChange:function(a){a.preventDefault();var d=b.Events.getTouchEvent(a);b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,
target:this,action:b.TouchElement.ActionTypes.gestureChange,scale:d.scale,rotation:d.rotation,targetEl:a.target,currentTargetEl:a.currentTarget})},onGestureEnd:function(a){a.preventDefault();var d=b.Events.getTouchEvent(a);b.Events.fire(this,{type:b.TouchElement.EventTypes.onTouch,target:this,action:b.TouchElement.ActionTypes.gestureEnd,scale:d.scale,rotation:d.rotation,targetEl:a.target,currentTargetEl:a.currentTarget})}})})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.Image");c.Code.PhotoSwipe.Image.EventTypes={onLoad:"onLoad",onError:"onError"}})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.Image");var a=c.Code.PhotoSwipe;a.Image.ImageClass=e({refObj:null,imageEl:null,src:null,caption:null,metaData:null,imageLoadHandler:null,imageErrorHandler:null,dispose:function(){var a;this.shrinkImage();for(a in this)b.objectHasProperty(this,a)&&(this[a]=null)},initialize:function(a,b,f,e){this.refObj=a;this.src=this.originalSrc=b;this.caption=f;this.metaData=e;this.imageEl=new c.Image;this.imageLoadHandler=this.onImageLoad.bind(this);this.imageErrorHandler=
this.onImageError.bind(this)},load:function(){this.imageEl.originalSrc=b.coalesce(this.imageEl.originalSrc,"");this.imageEl.originalSrc===this.src?this.imageEl.isError?b.Events.fire(this,{type:a.Image.EventTypes.onError,target:this}):b.Events.fire(this,{type:a.Image.EventTypes.onLoad,target:this}):(this.imageEl.isError=!1,this.imageEl.isLoading=!0,this.imageEl.naturalWidth=null,this.imageEl.naturalHeight=null,this.imageEl.isLandscape=!1,this.imageEl.onload=this.imageLoadHandler,this.imageEl.onerror=
this.imageErrorHandler,this.imageEl.onabort=this.imageErrorHandler,this.imageEl.originalSrc=this.src,this.imageEl.src=this.src)},shrinkImage:function(){!b.isNothing(this.imageEl)&&-1<this.imageEl.src.indexOf(this.src)&&(this.imageEl.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",b.isNothing(this.imageEl.parentNode)||b.DOM.removeChild(this.imageEl,this.imageEl.parentNode))},onImageLoad:function(){this.imageEl.onload=null;this.imageEl.naturalWidth=b.coalesce(this.imageEl.naturalWidth,
this.imageEl.width);this.imageEl.naturalHeight=b.coalesce(this.imageEl.naturalHeight,this.imageEl.height);this.imageEl.isLandscape=this.imageEl.naturalWidth>this.imageEl.naturalHeight;this.imageEl.isLoading=!1;b.Events.fire(this,{type:a.Image.EventTypes.onLoad,target:this})},onImageError:function(){this.imageEl.onload=null;this.imageEl.onerror=null;this.imageEl.onabort=null;this.imageEl.isLoading=!1;this.imageEl.isError=!0;b.Events.fire(this,{type:a.Image.EventTypes.onError,target:this})}})})(window,
window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.Cache");c=c.Code.PhotoSwipe;c.Cache.Mode={normal:"normal",aggressive:"aggressive"};c.Cache.Functions={getImageSource:function(a){return a.href},getImageCaption:function(a){if("IMG"===a.nodeName)return b.DOM.getAttribute(a,"alt");var d,c,f;d=0;for(c=a.childNodes.length;d<c;d++)if(f=a.childNodes[d],"IMG"===a.childNodes[d].nodeName)return b.DOM.getAttribute(f,"alt")},getImageMetaData:function(){return{}}}})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.Cache");var a=c.Code.PhotoSwipe;a.Cache.CacheClass=e({images:null,settings:null,dispose:function(){var a,c,f;if(!b.isNothing(this.images)){c=0;for(f=this.images.length;c<f;c++)this.images[c].dispose();this.images.length=0}for(a in this)b.objectHasProperty(this,a)&&(this[a]=null)},initialize:function(b,c){var f,e,k,h,p,n;this.settings=c;this.images=[];f=0;for(e=b.length;f<e;f++)k=b[f],h=this.settings.getImageSource(k),p=this.settings.getImageCaption(k),
n=this.settings.getImageMetaData(k),this.images.push(new a.Image.ImageClass(k,h,p,n))},getImages:function(d){var c,f,e=[],k;c=0;for(f=d.length;c<f;c++)k=this.images[d[c]],this.settings.cacheMode===a.Cache.Mode.aggressive&&(k.cacheDoNotShrink=!0),e.push(k);if(this.settings.cacheMode===a.Cache.Mode.aggressive)for(c=0,f=this.images.length;c<f;c++)k=this.images[c],b.objectHasProperty(k,"cacheDoNotShrink")?delete k.cacheDoNotShrink:k.shrinkImage();return e}})})(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.Image);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.DocumentOverlay");c.Code.PhotoSwipe.DocumentOverlay.CssClasses={documentOverlay:"ps-document-overlay"}})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.DocumentOverlay");var a=c.Code.PhotoSwipe;a.DocumentOverlay.DocumentOverlayClass=e({el:null,settings:null,initialBodyHeight:null,dispose:function(){var a;b.Animation.stop(this.el);b.DOM.removeChild(this.el,this.el.parentNode);for(a in this)b.objectHasProperty(this,a)&&(this[a]=null)},initialize:function(d){this.settings=d;this.el=b.DOM.createElement("div",{"class":a.DocumentOverlay.CssClasses.documentOverlay},"");b.DOM.setStyle(this.el,{display:"block",
position:"absolute",left:0,top:0,zIndex:this.settings.zIndex});b.DOM.hide(this.el);this.settings.target===c?b.DOM.appendToBody(this.el):b.DOM.appendChild(this.el,this.settings.target);b.Animation.resetTranslate(this.el);this.initialBodyHeight=b.DOM.bodyOuterHeight()},resetPosition:function(){var a,g,f;this.settings.target===c?(a=b.DOM.windowWidth(),g=2*b.DOM.bodyOuterHeight(),f=this.settings.jQueryMobile?b.DOM.windowScrollTop()+"px":"0px",1>g&&(g=this.initialBodyHeight),b.DOM.windowHeight()>g&&(g=
b.DOM.windowHeight())):(a=b.DOM.width(this.settings.target),g=b.DOM.height(this.settings.target),f="0px");b.DOM.setStyle(this.el,{width:a,height:g,top:f})},fadeIn:function(a,c){this.resetPosition();b.DOM.setStyle(this.el,"opacity",0);b.DOM.show(this.el);b.Animation.fadeIn(this.el,a,c)}})})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.Carousel");c=c.Code.PhotoSwipe;c.Carousel.EventTypes={onSlideByEnd:"PhotoSwipeCarouselOnSlideByEnd",onSlideshowStart:"PhotoSwipeCarouselOnSlideshowStart",onSlideshowStop:"PhotoSwipeCarouselOnSlideshowStop"};c.Carousel.CssClasses={carousel:"ps-carousel",content:"ps-carousel-content",item:"ps-carousel-item",itemLoading:"ps-carousel-item-loading",itemError:"ps-carousel-item-error"};c.Carousel.SlideByAction={previous:"previous",current:"current",next:"next"}})(window,
window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.Carousel");var a=c.Code.PhotoSwipe;a.Carousel.CarouselClass=e({el:null,contentEl:null,settings:null,cache:null,slideByEndHandler:null,currentCacheIndex:null,isSliding:null,isSlideshowActive:null,lastSlideByAction:null,touchStartPoint:null,touchStartPosition:null,imageLoadHandler:null,imageErrorHandler:null,slideshowTimeout:null,dispose:function(){var d,c,f;c=0;for(f=this.cache.images.length;c<f;c++)b.Events.remove(this.cache.images[c],a.Image.EventTypes.onLoad,
this.imageLoadHandler),b.Events.remove(this.cache.images[c],a.Image.EventTypes.onError,this.imageErrorHandler);this.stopSlideshow();b.Animation.stop(this.el);b.DOM.removeChild(this.el,this.el.parentNode);for(d in this)b.objectHasProperty(this,d)&&(this[d]=null)},initialize:function(d,g){var f,e,k;this.cache=d;this.settings=g;this.slideByEndHandler=this.onSlideByEnd.bind(this);this.imageLoadHandler=this.onImageLoad.bind(this);this.imageErrorHandler=this.onImageError.bind(this);this.currentCacheIndex=
0;this.isSlideshowActive=this.isSliding=!1;3>this.cache.images.length&&(this.settings.loop=!1);this.el=b.DOM.createElement("div",{"class":a.Carousel.CssClasses.carousel},"");b.DOM.setStyle(this.el,{display:"block",position:"absolute",left:0,top:0,overflow:"hidden",zIndex:this.settings.zIndex});b.DOM.hide(this.el);this.contentEl=b.DOM.createElement("div",{"class":a.Carousel.CssClasses.content},"");b.DOM.setStyle(this.contentEl,{display:"block",position:"absolute",left:0,top:0});b.DOM.appendChild(this.contentEl,
this.el);e=3>d.images.length?d.images.length:3;for(f=0;f<e;f++)k=b.DOM.createElement("div",{"class":a.Carousel.CssClasses.item+" "+a.Carousel.CssClasses.item+"-"+f},""),b.DOM.setAttribute(k,"style","float: left;"),b.DOM.setStyle(k,{display:"block",position:"relative",left:0,top:0,overflow:"hidden"}),0<this.settings.margin&&b.DOM.setStyle(k,{marginRight:this.settings.margin+"px"}),b.DOM.appendChild(k,this.contentEl);this.settings.target===c?b.DOM.appendToBody(this.el):b.DOM.appendChild(this.el,this.settings.target)},
resetPosition:function(){var d,g,f,e,k,h;this.settings.target===c?(d=b.DOM.windowWidth(),g=b.DOM.windowHeight(),f=b.DOM.windowScrollTop()+"px"):(d=b.DOM.width(this.settings.target),g=b.DOM.height(this.settings.target),f="0px");e=0<this.settings.margin?d+this.settings.margin:d;k=b.DOM.find("."+a.Carousel.CssClasses.item,this.contentEl);e*=k.length;b.DOM.setStyle(this.el,{top:f,width:d,height:g});b.DOM.setStyle(this.contentEl,{width:e,height:g});f=0;for(e=k.length;f<e;f++)h=k[f],b.DOM.setStyle(h,{width:d,
height:g}),h=b.DOM.find("img",h)[0],b.isNothing(h)||this.resetImagePosition(h);this.setContentLeftPosition()},resetImagePosition:function(a){if(!b.isNothing(a)){b.DOM.getAttribute(a,"src");var c,f,e,k=b.DOM.width(this.el),h=b.DOM.height(this.el);"fitNoUpscale"===this.settings.imageScaleMethod?(f=a.naturalWidth,e=a.naturalHeight,f>k&&(c=k/f,f=Math.round(f*c),e=Math.round(e*c)),e>h&&(c=h/e,e=Math.round(e*c),f=Math.round(f*c))):(c=a.isLandscape?k/a.naturalWidth:h/a.naturalHeight,f=Math.round(a.naturalWidth*
c),e=Math.round(a.naturalHeight*c),"zoom"===this.settings.imageScaleMethod?(c=1,e<h?c=h/e:f<k&&(c=k/f),1!==c&&(f=Math.round(f*c),e=Math.round(e*c))):"fit"===this.settings.imageScaleMethod&&(c=1,f>k?c=k/f:e>h&&(c=h/e),1!==c&&(f=Math.round(f*c),e=Math.round(e*c))));b.DOM.setStyle(a,{position:"absolute",width:f,height:e,top:Math.round((h-e)/2)+"px",left:Math.round((k-f)/2)+"px",display:"block"})}},setContentLeftPosition:function(){var a,g,e;a=this.settings.target===c?b.DOM.windowWidth():b.DOM.width(this.settings.target);
g=this.getItemEls();e=0;this.settings.loop?e=-1*(a+this.settings.margin):this.currentCacheIndex===this.cache.images.length-1?e=(g.length-1)*(a+this.settings.margin)*-1:0<this.currentCacheIndex&&(e=-1*(a+this.settings.margin));b.DOM.setStyle(this.contentEl,{left:e+"px"})},show:function(d){this.currentCacheIndex=d;this.resetPosition();this.setImages(!1);b.DOM.show(this.el);b.Animation.resetTranslate(this.contentEl);d=this.getItemEls();var c,e;c=0;for(e=d.length;c<e;c++)b.Animation.resetTranslate(d[c]);
b.Events.fire(this,{type:a.Carousel.EventTypes.onSlideByEnd,target:this,action:a.Carousel.SlideByAction.current,cacheIndex:this.currentCacheIndex})},setImages:function(a){var b,c=this.getItemEls();b=this.currentCacheIndex+1;var e=this.currentCacheIndex-1;this.settings.loop?(b>this.cache.images.length-1&&(b=0),0>e&&(e=this.cache.images.length-1),b=this.cache.getImages([e,this.currentCacheIndex,b]),a||this.addCacheImageToItemEl(b[1],c[1]),this.addCacheImageToItemEl(b[2],c[2]),this.addCacheImageToItemEl(b[0],
c[0])):1===c.length?a||(b=this.cache.getImages([this.currentCacheIndex]),this.addCacheImageToItemEl(b[0],c[0])):2===c.length?0===this.currentCacheIndex?(b=this.cache.getImages([this.currentCacheIndex,this.currentCacheIndex+1]),a||this.addCacheImageToItemEl(b[0],c[0]),this.addCacheImageToItemEl(b[1],c[1])):(b=this.cache.getImages([this.currentCacheIndex-1,this.currentCacheIndex]),a||this.addCacheImageToItemEl(b[1],c[1]),this.addCacheImageToItemEl(b[0],c[0])):0===this.currentCacheIndex?(b=this.cache.getImages([this.currentCacheIndex,
this.currentCacheIndex+1,this.currentCacheIndex+2]),a||this.addCacheImageToItemEl(b[0],c[0]),this.addCacheImageToItemEl(b[1],c[1]),this.addCacheImageToItemEl(b[2],c[2])):(this.currentCacheIndex===this.cache.images.length-1?(b=this.cache.getImages([this.currentCacheIndex-2,this.currentCacheIndex-1,this.currentCacheIndex]),a||this.addCacheImageToItemEl(b[2],c[2]),this.addCacheImageToItemEl(b[1],c[1])):(b=this.cache.getImages([this.currentCacheIndex-1,this.currentCacheIndex,this.currentCacheIndex+1]),
a||this.addCacheImageToItemEl(b[1],c[1]),this.addCacheImageToItemEl(b[2],c[2])),this.addCacheImageToItemEl(b[0],c[0]))},addCacheImageToItemEl:function(d,c){b.DOM.removeClass(c,a.Carousel.CssClasses.itemError);b.DOM.addClass(c,a.Carousel.CssClasses.itemLoading);b.DOM.removeChildren(c);b.DOM.setStyle(d.imageEl,{display:"none"});b.DOM.appendChild(d.imageEl,c);b.Animation.resetTranslate(d.imageEl);b.Events.add(d,a.Image.EventTypes.onLoad,this.imageLoadHandler);b.Events.add(d,a.Image.EventTypes.onError,
this.imageErrorHandler);d.load()},slideCarousel:function(d,e,f){if(!this.isSliding){var l,k;l=this.settings.target===c?b.DOM.windowWidth()+this.settings.margin:b.DOM.width(this.settings.target)+this.settings.margin;f=b.coalesce(f,this.settings.slideSpeed);if(!(1>c.Math.abs(k))){switch(e){case b.TouchElement.ActionTypes.swipeLeft:d=-1*l;break;case b.TouchElement.ActionTypes.swipeRight:d=l;break;default:k=d.x-this.touchStartPoint.x,d=c.Math.abs(k)>l/2?0<k?l:-1*l:0}this.lastSlideByAction=0>d?a.Carousel.SlideByAction.next:
0<d?a.Carousel.SlideByAction.previous:a.Carousel.SlideByAction.current;!this.settings.loop&&(this.lastSlideByAction===a.Carousel.SlideByAction.previous&&0===this.currentCacheIndex||this.lastSlideByAction===a.Carousel.SlideByAction.next&&this.currentCacheIndex===this.cache.images.length-1)&&(d=0,this.lastSlideByAction=a.Carousel.SlideByAction.current);this.isSliding=!0;this.doSlideCarousel(d,f)}}},moveCarousel:function(a){this.isSliding||this.settings.enableDrag&&this.doMoveCarousel(a.x-this.touchStartPoint.x)},
getItemEls:function(){return b.DOM.find("."+a.Carousel.CssClasses.item,this.contentEl)},previous:function(){this.stopSlideshow();this.slideCarousel({x:0,y:0},b.TouchElement.ActionTypes.swipeRight,this.settings.nextPreviousSlideSpeed)},next:function(){this.stopSlideshow();this.slideCarousel({x:0,y:0},b.TouchElement.ActionTypes.swipeLeft,this.settings.nextPreviousSlideSpeed)},slideshowNext:function(){this.slideCarousel({x:0,y:0},b.TouchElement.ActionTypes.swipeLeft)},startSlideshow:function(){this.stopSlideshow();
this.isSlideshowActive=!0;this.slideshowTimeout=c.setTimeout(this.slideshowNext.bind(this),this.settings.slideshowDelay);b.Events.fire(this,{type:a.Carousel.EventTypes.onSlideshowStart,target:this})},stopSlideshow:function(){b.isNothing(this.slideshowTimeout)||(c.clearTimeout(this.slideshowTimeout),this.slideshowTimeout=null,this.isSlideshowActive=!1,b.Events.fire(this,{type:a.Carousel.EventTypes.onSlideshowStop,target:this}))},onSlideByEnd:function(){if(!b.isNothing(this.isSliding)){var d=this.getItemEls();
this.isSliding=!1;this.lastSlideByAction===a.Carousel.SlideByAction.next?this.currentCacheIndex+=1:this.lastSlideByAction===a.Carousel.SlideByAction.previous&&(this.currentCacheIndex-=1);this.settings.loop?(this.lastSlideByAction===a.Carousel.SlideByAction.next?b.DOM.appendChild(d[0],this.contentEl):this.lastSlideByAction===a.Carousel.SlideByAction.previous&&b.DOM.insertBefore(d[d.length-1],d[0],this.contentEl),0>this.currentCacheIndex)?this.currentCacheIndex=this.cache.images.length-1:this.currentCacheIndex===
this.cache.images.length&&(this.currentCacheIndex=0):3<this.cache.images.length&&(1<this.currentCacheIndex&&this.currentCacheIndex<this.cache.images.length-2?this.lastSlideByAction===a.Carousel.SlideByAction.next?b.DOM.appendChild(d[0],this.contentEl):this.lastSlideByAction===a.Carousel.SlideByAction.previous&&b.DOM.insertBefore(d[d.length-1],d[0],this.contentEl):1===this.currentCacheIndex?this.lastSlideByAction===a.Carousel.SlideByAction.previous&&b.DOM.insertBefore(d[d.length-1],d[0],this.contentEl):
this.currentCacheIndex===this.cache.images.length-2&&this.lastSlideByAction===a.Carousel.SlideByAction.next&&b.DOM.appendChild(d[0],this.contentEl));this.lastSlideByAction!==a.Carousel.SlideByAction.current&&(this.setContentLeftPosition(),this.setImages(!0));b.Events.fire(this,{type:a.Carousel.EventTypes.onSlideByEnd,target:this,action:this.lastSlideByAction,cacheIndex:this.currentCacheIndex});this.isSlideshowActive&&(this.lastSlideByAction!==a.Carousel.SlideByAction.current?this.startSlideshow():
this.stopSlideshow())}},onTouch:function(a,e){this.stopSlideshow();switch(a){case b.TouchElement.ActionTypes.touchStart:this.touchStartPoint=e;this.touchStartPosition={x:c.parseInt(b.DOM.getStyle(this.contentEl,"left"),0),y:c.parseInt(b.DOM.getStyle(this.contentEl,"top"),0)};break;case b.TouchElement.ActionTypes.touchMove:this.moveCarousel(e);break;case b.TouchElement.ActionTypes.touchMoveEnd:case b.TouchElement.ActionTypes.swipeLeft:case b.TouchElement.ActionTypes.swipeRight:this.slideCarousel(e,
a)}},onImageLoad:function(d){d=d.target;b.isNothing(d.imageEl.parentNode)||(b.DOM.removeClass(d.imageEl.parentNode,a.Carousel.CssClasses.itemLoading),this.resetImagePosition(d.imageEl));b.Events.remove(d,a.Image.EventTypes.onLoad,this.imageLoadHandler);b.Events.remove(d,a.Image.EventTypes.onError,this.imageErrorHandler)},onImageError:function(d){d=d.target;b.isNothing(d.imageEl.parentNode)||(b.DOM.removeClass(d.imageEl.parentNode,a.Carousel.CssClasses.itemLoading),b.DOM.addClass(d.imageEl.parentNode,
a.Carousel.CssClasses.itemError));b.Events.remove(d,a.Image.EventTypes.onLoad,this.imageLoadHandler);b.Events.remove(d,a.Image.EventTypes.onError,this.imageErrorHandler)}})})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.Carousel");e=c.Code.PhotoSwipe;e.Carousel.CarouselClass=e.Carousel.CarouselClass.extend({getStartingPos:function(){var a=this.touchStartPosition;b.isNothing(a)&&(a={x:c.parseInt(b.DOM.getStyle(this.contentEl,"left"),0),y:c.parseInt(b.DOM.getStyle(this.contentEl,"top"),0)});return a},doMoveCarousel:function(a){var d;b.Browser.isCSSTransformSupported?(d={},d[b.Animation._transitionPrefix+"Property"]="all",d[b.Animation._transitionPrefix+"Duration"]=
"",d[b.Animation._transitionPrefix+"TimingFunction"]="",d[b.Animation._transitionPrefix+"Delay"]="0",d[b.Animation._transformLabel]=b.Browser.is3dSupported?"translate3d("+a+"px, 0px, 0px)":"translate("+a+"px, 0px)",b.DOM.setStyle(this.contentEl,d)):b.isNothing(c.jQuery)||c.jQuery(this.contentEl).stop().css("left",this.getStartingPos().x+a+"px")},doSlideCarousel:function(a,d){var e;0>=d?this.slideByEndHandler():b.Browser.isCSSTransformSupported?(e=b.coalesce(this.contentEl.style.webkitTransform,this.contentEl.style.MozTransform,
this.contentEl.style.transform,""),0===e.indexOf("translate3d("+a)?this.slideByEndHandler():0===e.indexOf("translate("+a)?this.slideByEndHandler():b.Animation.slideBy(this.contentEl,a,0,d,this.slideByEndHandler,this.settings.slideTimingFunction)):b.isNothing(c.jQuery)||(e={left:this.getStartingPos().x+a+"px"},"ease-out"===this.settings.animationTimingFunction&&(this.settings.animationTimingFunction="easeOutQuad"),b.isNothing(c.jQuery.easing[this.settings.animationTimingFunction])&&(this.settings.animationTimingFunction=
"linear"),c.jQuery(this.contentEl).animate(e,this.settings.slideSpeed,this.settings.animationTimingFunction,this.slideByEndHandler))}})})(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.TouchElement);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.Toolbar");var a=c.Code.PhotoSwipe;a.Toolbar.CssClasses={toolbar:"ps-toolbar",toolbarContent:"ps-toolbar-content",toolbarTop:"ps-toolbar-top",caption:"ps-caption",captionBottom:"ps-caption-bottom",captionContent:"ps-caption-content",close:"ps-toolbar-close",play:"ps-toolbar-play",previous:"ps-toolbar-previous",previousDisabled:"ps-toolbar-previous-disabled",next:"ps-toolbar-next",nextDisabled:"ps-toolbar-next-disabled"};a.Toolbar.ToolbarAction=
{close:"close",play:"play",next:"next",previous:"previous",none:"none"};a.Toolbar.EventTypes={onTap:"PhotoSwipeToolbarOnClick",onBeforeShow:"PhotoSwipeToolbarOnBeforeShow",onShow:"PhotoSwipeToolbarOnShow",onBeforeHide:"PhotoSwipeToolbarOnBeforeHide",onHide:"PhotoSwipeToolbarOnHide"};a.Toolbar.getToolbar=function(){return'<div class="'+a.Toolbar.CssClasses.close+'"><div class="'+a.Toolbar.CssClasses.toolbarContent+'"></div></div><div class="'+a.Toolbar.CssClasses.play+'"><div class="'+a.Toolbar.CssClasses.toolbarContent+
'"></div></div><div class="'+a.Toolbar.CssClasses.previous+'"><div class="'+a.Toolbar.CssClasses.toolbarContent+'"></div></div><div class="'+a.Toolbar.CssClasses.next+'"><div class="'+a.Toolbar.CssClasses.toolbarContent+'"></div></div>'}})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.Toolbar");var a=c.Code.PhotoSwipe;a.Toolbar.ToolbarClass=e({toolbarEl:null,closeEl:null,playEl:null,previousEl:null,nextEl:null,captionEl:null,captionContentEl:null,currentCaption:null,settings:null,cache:null,timeout:null,isVisible:null,fadeOutHandler:null,touchStartHandler:null,touchMoveHandler:null,clickHandler:null,dispose:function(){var a;this.clearTimeout();this.removeEventHandlers();b.Animation.stop(this.toolbarEl);b.Animation.stop(this.captionEl);
b.DOM.removeChild(this.toolbarEl,this.toolbarEl.parentNode);b.DOM.removeChild(this.captionEl,this.captionEl.parentNode);for(a in this)b.objectHasProperty(this,a)&&(this[a]=null)},initialize:function(d,e){var f;this.settings=e;this.cache=d;this.isVisible=!1;this.fadeOutHandler=this.onFadeOut.bind(this);this.touchStartHandler=this.onTouchStart.bind(this);this.touchMoveHandler=this.onTouchMove.bind(this);this.clickHandler=this.onClick.bind(this);f=a.Toolbar.CssClasses.toolbar;this.settings.captionAndToolbarFlipPosition&&
(f=f+" "+a.Toolbar.CssClasses.toolbarTop);this.toolbarEl=b.DOM.createElement("div",{"class":f},this.settings.getToolbar());b.DOM.setStyle(this.toolbarEl,{left:0,position:"absolute",overflow:"hidden",zIndex:this.settings.zIndex});this.settings.target===c?b.DOM.appendToBody(this.toolbarEl):b.DOM.appendChild(this.toolbarEl,this.settings.target);b.DOM.hide(this.toolbarEl);this.closeEl=b.DOM.find("."+a.Toolbar.CssClasses.close,this.toolbarEl)[0];this.settings.preventHide&&!b.isNothing(this.closeEl)&&b.DOM.hide(this.closeEl);
this.playEl=b.DOM.find("."+a.Toolbar.CssClasses.play,this.toolbarEl)[0];this.settings.preventSlideshow&&!b.isNothing(this.playEl)&&b.DOM.hide(this.playEl);this.nextEl=b.DOM.find("."+a.Toolbar.CssClasses.next,this.toolbarEl)[0];this.previousEl=b.DOM.find("."+a.Toolbar.CssClasses.previous,this.toolbarEl)[0];f=a.Toolbar.CssClasses.caption;this.settings.captionAndToolbarFlipPosition&&(f=f+" "+a.Toolbar.CssClasses.captionBottom);this.captionEl=b.DOM.createElement("div",{"class":f},"");b.DOM.setStyle(this.captionEl,
{left:0,position:"absolute",overflow:"hidden",zIndex:this.settings.zIndex});this.settings.target===c?b.DOM.appendToBody(this.captionEl):b.DOM.appendChild(this.captionEl,this.settings.target);b.DOM.hide(this.captionEl);this.captionContentEl=b.DOM.createElement("div",{"class":a.Toolbar.CssClasses.captionContent},"");b.DOM.appendChild(this.captionContentEl,this.captionEl);this.addEventHandlers()},resetPosition:function(){var a,e,f;this.settings.target===c?(this.settings.captionAndToolbarFlipPosition?
(e=b.DOM.windowScrollTop(),f=b.DOM.windowScrollTop()+b.DOM.windowHeight()-b.DOM.height(this.captionEl)):(e=b.DOM.windowScrollTop()+b.DOM.windowHeight()-b.DOM.height(this.toolbarEl),f=b.DOM.windowScrollTop()),a=b.DOM.windowWidth()):(this.settings.captionAndToolbarFlipPosition?(e="0",f=b.DOM.height(this.settings.target)-b.DOM.height(this.captionEl)):(e=b.DOM.height(this.settings.target)-b.DOM.height(this.toolbarEl),f=0),a=b.DOM.width(this.settings.target));b.DOM.setStyle(this.toolbarEl,{top:e+"px",
width:a});b.DOM.setStyle(this.captionEl,{top:f+"px",width:a})},toggleVisibility:function(a){this.isVisible?this.fadeOut():this.show(a)},show:function(d){b.Animation.stop(this.toolbarEl);b.Animation.stop(this.captionEl);this.resetPosition();this.setToolbarStatus(d);b.Events.fire(this,{type:a.Toolbar.EventTypes.onBeforeShow,target:this});this.showToolbar();this.setCaption(d);this.showCaption();this.isVisible=!0;this.setTimeout();b.Events.fire(this,{type:a.Toolbar.EventTypes.onShow,target:this})},setTimeout:function(){0<
this.settings.captionAndToolbarAutoHideDelay&&(this.clearTimeout(),this.timeout=c.setTimeout(this.fadeOut.bind(this),this.settings.captionAndToolbarAutoHideDelay))},clearTimeout:function(){b.isNothing(this.timeout)||(c.clearTimeout(this.timeout),this.timeout=null)},fadeOut:function(){this.clearTimeout();b.Events.fire(this,{type:a.Toolbar.EventTypes.onBeforeHide,target:this});b.Animation.fadeOut(this.toolbarEl,this.settings.fadeOutSpeed);b.Animation.fadeOut(this.captionEl,this.settings.fadeOutSpeed,
this.fadeOutHandler);this.isVisible=!1},addEventHandlers:function(){b.Browser.isTouchSupported&&(b.Browser.blackberry||b.Events.add(this.toolbarEl,"touchstart",this.touchStartHandler),b.Events.add(this.toolbarEl,"touchmove",this.touchMoveHandler),b.Events.add(this.captionEl,"touchmove",this.touchMoveHandler));b.Events.add(this.toolbarEl,"click",this.clickHandler)},removeEventHandlers:function(){b.Browser.isTouchSupported&&(b.Browser.blackberry||b.Events.remove(this.toolbarEl,"touchstart",this.touchStartHandler),
b.Events.remove(this.toolbarEl,"touchmove",this.touchMoveHandler),b.Events.remove(this.captionEl,"touchmove",this.touchMoveHandler));b.Events.remove(this.toolbarEl,"click",this.clickHandler)},handleTap:function(d){this.clearTimeout();var c;if(d.target===this.nextEl||b.DOM.isChildOf(d.target,this.nextEl))c=a.Toolbar.ToolbarAction.next;else if(d.target===this.previousEl||b.DOM.isChildOf(d.target,this.previousEl))c=a.Toolbar.ToolbarAction.previous;else if(d.target===this.closeEl||b.DOM.isChildOf(d.target,
this.closeEl))c=a.Toolbar.ToolbarAction.close;else if(d.target===this.playEl||b.DOM.isChildOf(d.target,this.playEl))c=a.Toolbar.ToolbarAction.play;this.setTimeout();b.isNothing(c)&&(c=a.Toolbar.ToolbarAction.none);b.Events.fire(this,{type:a.Toolbar.EventTypes.onTap,target:this,action:c,tapTarget:d.target})},setCaption:function(a){b.DOM.removeChildren(this.captionContentEl);this.currentCaption=b.coalesce(this.cache.images[a].caption,"\u00a0");b.isObject(this.currentCaption)?b.DOM.appendChild(this.currentCaption,
this.captionContentEl):(""===this.currentCaption&&(this.currentCaption="\u00a0"),b.DOM.appendText(this.currentCaption,this.captionContentEl));this.currentCaption="\u00a0"===this.currentCaption?"":this.currentCaption;this.resetPosition()},showToolbar:function(){b.DOM.setStyle(this.toolbarEl,{opacity:this.settings.captionAndToolbarOpacity});b.DOM.show(this.toolbarEl)},showCaption:function(){(""===this.currentCaption||1>this.captionContentEl.childNodes.length)&&!this.settings.captionAndToolbarShowEmptyCaptions?
b.DOM.hide(this.captionEl):(b.DOM.setStyle(this.captionEl,{opacity:this.settings.captionAndToolbarOpacity}),b.DOM.show(this.captionEl))},setToolbarStatus:function(d){this.settings.loop||(b.DOM.removeClass(this.previousEl,a.Toolbar.CssClasses.previousDisabled),b.DOM.removeClass(this.nextEl,a.Toolbar.CssClasses.nextDisabled),0<d&&d<this.cache.images.length-1||(0===d&&(b.isNothing(this.previousEl)||b.DOM.addClass(this.previousEl,a.Toolbar.CssClasses.previousDisabled)),d===this.cache.images.length-1&&
(b.isNothing(this.nextEl)||b.DOM.addClass(this.nextEl,a.Toolbar.CssClasses.nextDisabled))))},onFadeOut:function(){b.DOM.hide(this.toolbarEl);b.DOM.hide(this.captionEl);b.Events.fire(this,{type:a.Toolbar.EventTypes.onHide,target:this})},onTouchStart:function(a){a.preventDefault();b.Events.remove(this.toolbarEl,"click",this.clickHandler);this.handleTap(a)},onTouchMove:function(a){a.preventDefault()},onClick:function(a){a.preventDefault();this.handleTap(a)}})})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.UILayer");c.Code.PhotoSwipe.UILayer.CssClasses={uiLayer:"ps-uilayer"}})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.UILayer");var a=c.Code.PhotoSwipe;a.UILayer.UILayerClass=b.TouchElement.TouchElementClass.extend({el:null,settings:null,dispose:function(){var a;this.removeEventHandlers();b.DOM.removeChild(this.el,this.el.parentNode);for(a in this)b.objectHasProperty(this,a)&&(this[a]=null)},initialize:function(d){this.settings=d;this.el=b.DOM.createElement("div",{"class":a.UILayer.CssClasses.uiLayer},"");b.DOM.setStyle(this.el,{display:"block",position:"absolute",
left:0,top:0,overflow:"hidden",zIndex:this.settings.zIndex,opacity:0});b.DOM.hide(this.el);this.settings.target===c?b.DOM.appendToBody(this.el):b.DOM.appendChild(this.el,this.settings.target);this.supr(this.el,{swipe:!0,move:!0,gesture:b.Browser.iOS,doubleTap:!0,preventDefaultTouchEvents:this.settings.preventDefaultTouchEvents})},resetPosition:function(){this.settings.target===c?b.DOM.setStyle(this.el,{top:b.DOM.windowScrollTop()+"px",width:b.DOM.windowWidth(),height:b.DOM.windowHeight()}):b.DOM.setStyle(this.el,
{top:"0px",width:b.DOM.width(this.settings.target),height:b.DOM.height(this.settings.target)})},show:function(){this.resetPosition();b.DOM.show(this.el);this.addEventHandlers()},addEventHandlers:function(){this.supr()},removeEventHandlers:function(){this.supr()}})})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.ZoomPanRotate");c=c.Code.PhotoSwipe;c.ZoomPanRotate.CssClasses={zoomPanRotate:"ps-zoom-pan-rotate"};c.ZoomPanRotate.EventTypes={onTransform:"PhotoSwipeZoomPanRotateOnTransform"}})(window,window.klass,window.Code.Util);
(function(c,e,b){b.registerNamespace("Code.PhotoSwipe.ZoomPanRotate");var a=c.Code.PhotoSwipe;a.ZoomPanRotate.ZoomPanRotateClass=e({el:null,settings:null,containerEl:null,imageEl:null,transformSettings:null,panStartingPoint:null,transformEl:null,dispose:function(){var a;b.DOM.removeChild(this.el,this.el.parentNode);for(a in this)b.objectHasProperty(this,a)&&(this[a]=null)},initialize:function(d,e,f){var l,k,h;this.settings=d;this.settings.target===c?(d=document.body,l=b.DOM.windowWidth(),k=b.DOM.windowHeight(),
h=b.DOM.windowScrollTop()+"px"):(d=this.settings.target,l=b.DOM.width(d),k=b.DOM.height(d),h="0px");this.imageEl=e.imageEl.cloneNode(!1);b.DOM.setStyle(this.imageEl,{zIndex:1});this.transformSettings={startingScale:1,scale:1,startingRotation:0,rotation:0,startingTranslateX:0,startingTranslateY:0,translateX:0,translateY:0};this.el=b.DOM.createElement("div",{"class":a.ZoomPanRotate.CssClasses.zoomPanRotate},"");b.DOM.setStyle(this.el,{left:0,top:h,position:"absolute",width:l,height:k,zIndex:this.settings.zIndex,
display:"block"});b.DOM.insertBefore(this.el,f.el,d);b.Browser.iOS?(this.containerEl=b.DOM.createElement("div","",""),b.DOM.setStyle(this.containerEl,{left:0,top:0,width:l,height:k,position:"absolute",zIndex:1}),b.DOM.appendChild(this.imageEl,this.containerEl),b.DOM.appendChild(this.containerEl,this.el),b.Animation.resetTranslate(this.containerEl),b.Animation.resetTranslate(this.imageEl),this.transformEl=this.containerEl):(b.DOM.appendChild(this.imageEl,this.el),this.transformEl=this.imageEl)},setStartingTranslateFromCurrentTransform:function(){var a=
b.coalesce(this.transformEl.style.webkitTransform,this.transformEl.style.MozTransform,this.transformEl.style.transform);b.isNothing(a)||(a=a.match(/translate\((.*?)\)/),b.isNothing(a))||(a=a[1].split(", "),this.transformSettings.startingTranslateX=c.parseInt(a[0],10),this.transformSettings.startingTranslateY=c.parseInt(a[1],10))},getScale:function(a){a*=this.transformSettings.startingScale;0!==this.settings.minUserZoom&&a<this.settings.minUserZoom?a=this.settings.minUserZoom:0!==this.settings.maxUserZoom&&
a>this.settings.maxUserZoom&&(a=this.settings.maxUserZoom);return a},setStartingScaleAndRotation:function(a,b){this.transformSettings.startingScale=this.getScale(a);this.transformSettings.startingRotation=(this.transformSettings.startingRotation+b)%360},zoomRotate:function(a,b){this.transformSettings.scale=this.getScale(a);this.transformSettings.rotation=this.transformSettings.startingRotation+b;this.applyTransform()},panStart:function(a){this.setStartingTranslateFromCurrentTransform();this.panStartingPoint=
{x:a.x,y:a.y}},pan:function(a){var b=(a.y-this.panStartingPoint.y)/this.transformSettings.scale;this.transformSettings.translateX=this.transformSettings.startingTranslateX+(a.x-this.panStartingPoint.x)/this.transformSettings.scale;this.transformSettings.translateY=this.transformSettings.startingTranslateY+b;this.applyTransform()},zoomAndPanToPoint:function(a,e){if(this.settings.target===c){this.panStart({x:b.DOM.windowWidth()/2,y:b.DOM.windowHeight()/2});var f=(e.y-this.panStartingPoint.y)/this.transformSettings.scale;
this.transformSettings.translateX=-1*(this.transformSettings.startingTranslateX+(e.x-this.panStartingPoint.x)/this.transformSettings.scale);this.transformSettings.translateY=-1*(this.transformSettings.startingTranslateY+f)}this.setStartingScaleAndRotation(a,0);this.transformSettings.scale=this.transformSettings.startingScale;this.transformSettings.rotation=0;this.applyTransform()},applyTransform:function(){var d=this.transformSettings.rotation%360,e=c.parseInt(this.transformSettings.translateX,10),
f=c.parseInt(this.transformSettings.translateY,10),l="scale("+this.transformSettings.scale+") rotate("+d+"deg) translate("+e+"px, "+f+"px)";b.DOM.setStyle(this.transformEl,{webkitTransform:l,MozTransform:l,msTransform:l,transform:l});b.Events.fire(this,{target:this,type:a.ZoomPanRotate.EventTypes.onTransform,scale:this.transformSettings.scale,rotation:this.transformSettings.rotation,rotationDegs:d,translateX:e,translateY:f})}})})(window,window.klass,window.Code.Util);
(function(c,e){e.registerNamespace("Code.PhotoSwipe");var b=c.Code.PhotoSwipe;b.CssClasses={buildingBody:"ps-building",activeBody:"ps-active"};b.EventTypes={onBeforeShow:"PhotoSwipeOnBeforeShow",onShow:"PhotoSwipeOnShow",onBeforeHide:"PhotoSwipeOnBeforeHide",onHide:"PhotoSwipeOnHide",onDisplayImage:"PhotoSwipeOnDisplayImage",onResetPosition:"PhotoSwipeOnResetPosition",onSlideshowStart:"PhotoSwipeOnSlideshowStart",onSlideshowStop:"PhotoSwipeOnSlideshowStop",onTouch:"PhotoSwipeOnTouch",onBeforeCaptionAndToolbarShow:"PhotoSwipeOnBeforeCaptionAndToolbarShow",
onCaptionAndToolbarShow:"PhotoSwipeOnCaptionAndToolbarShow",onBeforeCaptionAndToolbarHide:"PhotoSwipeOnBeforeCaptionAndToolbarHide",onCaptionAndToolbarHide:"PhotoSwipeOnCaptionAndToolbarHide",onToolbarTap:"PhotoSwipeOnToolbarTap",onBeforeZoomPanRotateShow:"PhotoSwipeOnBeforeZoomPanRotateShow",onZoomPanRotateShow:"PhotoSwipeOnZoomPanRotateShow",onBeforeZoomPanRotateHide:"PhotoSwipeOnBeforeZoomPanRotateHide",onZoomPanRotateHide:"PhotoSwipeOnZoomPanRotateHide",onZoomPanRotateTransform:"PhotoSwipeOnZoomPanRotateTransform"};
b.instances=[];b.activeInstances=[];b.setActivateInstance=function(a){if(-1<e.arrayIndexOf(a.settings.target,b.activeInstances,"target"))throw"Code.PhotoSwipe.activateInstance: Unable to active instance as another instance is already active for this target";b.activeInstances.push({target:a.settings.target,instance:a})};b.unsetActivateInstance=function(a){a=e.arrayIndexOf(a,b.activeInstances,"instance");b.activeInstances.splice(a,1)};b.attach=function(a,d,c){var f,l;f=b.createInstance(a,d,c);d=0;for(c=
a.length;d<c;d++)(l=a[d],e.isNothing(l.nodeType)||1!==l.nodeType)||(l.__photoSwipeClickHandler=b.onTriggerElementClick.bind(f),e.Events.remove(l,"click",l.__photoSwipeClickHandler),e.Events.add(l,"click",l.__photoSwipeClickHandler));return f};c.jQuery&&(c.jQuery.fn.photoSwipe=function(a,d){return b.attach(this,a,d)});b.detatch=function(a){var d,c,f;d=0;for(c=a.originalImages.length;d<c;d++)f=a.originalImages[d],!e.isNothing(f.nodeType)&&1===f.nodeType&&(e.Events.remove(f,"click",f.__photoSwipeClickHandler),
delete f.__photoSwipeClickHandler);b.disposeInstance(a)};b.createInstance=function(a,c,g){var f;if(e.isNothing(a))throw"Code.PhotoSwipe.attach: No images passed.";if(!e.isLikeArray(a))throw"Code.PhotoSwipe.createInstance: Images must be an array of elements or image urls.";if(1>a.length)throw"Code.PhotoSwipe.createInstance: No images to passed.";c=e.coalesce(c,{});f=b.getInstance(g);if(e.isNothing(f))f=new b.PhotoSwipeClass(a,c,g),b.instances.push(f);else throw'Code.PhotoSwipe.createInstance: Instance with id "'+
g+' already exists."';return f};b.disposeInstance=function(a){var c=b.getInstanceIndex(a);if(0>c)throw"Code.PhotoSwipe.disposeInstance: Unable to find instance to dispose.";a.dispose();b.instances.splice(c,1)};b.onTriggerElementClick=function(a){a.preventDefault();this.show(a.currentTarget)};b.getInstance=function(a){var c,e,f;c=0;for(e=b.instances.length;c<e;c++)if(f=b.instances[c],f.id===a)return f;return null};b.getInstanceIndex=function(a){var c,e,f=-1;c=0;for(e=b.instances.length;c<e;c++)if(b.instances[c]===
a){f=c;break}return f}})(window,window.Code.Util);
(function(c,e,b,a,d,g,f,l,k){b.registerNamespace("Code.PhotoSwipe");var h=c.Code.PhotoSwipe;h.PhotoSwipeClass=e({id:null,settings:null,isBackEventSupported:null,backButtonClicked:null,currentIndex:null,originalImages:null,mouseWheelStartTime:null,windowDimensions:null,cache:null,documentOverlay:null,carousel:null,uiLayer:null,toolbar:null,zoomPanRotate:null,windowOrientationChangeHandler:null,windowScrollHandler:null,windowHashChangeHandler:null,keyDownHandler:null,windowOrientationEventName:null,
uiLayerTouchHandler:null,carouselSlideByEndHandler:null,carouselSlideshowStartHandler:null,carouselSlideshowStopHandler:null,toolbarTapHandler:null,toolbarBeforeShowHandler:null,toolbarShowHandler:null,toolbarBeforeHideHandler:null,toolbarHideHandler:null,mouseWheelHandler:null,zoomPanRotateTransformHandler:null,_isResettingPosition:null,_uiWebViewResetPositionTimeout:null,dispose:function(){var a;b.Events.remove(this,h.EventTypes.onBeforeShow);b.Events.remove(this,h.EventTypes.onShow);b.Events.remove(this,
h.EventTypes.onBeforeHide);b.Events.remove(this,h.EventTypes.onHide);b.Events.remove(this,h.EventTypes.onDisplayImage);b.Events.remove(this,h.EventTypes.onResetPosition);b.Events.remove(this,h.EventTypes.onSlideshowStart);b.Events.remove(this,h.EventTypes.onSlideshowStop);b.Events.remove(this,h.EventTypes.onTouch);b.Events.remove(this,h.EventTypes.onBeforeCaptionAndToolbarShow);b.Events.remove(this,h.EventTypes.onCaptionAndToolbarShow);b.Events.remove(this,h.EventTypes.onBeforeCaptionAndToolbarHide);
b.Events.remove(this,h.EventTypes.onCaptionAndToolbarHide);b.Events.remove(this,h.EventTypes.onZoomPanRotateTransform);this.removeEventHandlers();b.isNothing(this.documentOverlay)||this.documentOverlay.dispose();b.isNothing(this.carousel)||this.carousel.dispose();b.isNothing(this.uiLayer)||this.uiLayer.dispose();b.isNothing(this.toolbar)||this.toolbar.dispose();this.destroyZoomPanRotate();b.isNothing(this.cache)||this.cache.dispose();for(a in this)b.objectHasProperty(this,a)&&(this[a]=null)},initialize:function(d,
e,f){this.id=b.isNothing(f)?"PhotoSwipe"+(new Date).getTime().toString():f;this.originalImages=d;b.Browser.android&&!b.Browser.firefox&&2.1<=c.navigator.userAgent.match(/Android (\d+.\d+)/).toString().replace(/^.*\,/,"")&&(this.isBackEventSupported=!0);this.isBackEventSupported||(this.isBackEventSupported=b.objectHasProperty(c,"onhashchange"));this.settings={fadeInSpeed:250,fadeOutSpeed:250,preventHide:!1,preventSlideshow:!1,zIndex:1E3,backButtonHideEnabled:!0,enableKeyboard:!0,enableMouseWheel:!0,
mouseWheelSpeed:350,autoStartSlideshow:!1,jQueryMobile:!b.isNothing(c.jQuery)&&!b.isNothing(c.jQuery.mobile),jQueryMobileDialogHash:"&ui-state=dialog",enableUIWebViewRepositionTimeout:!1,uiWebViewResetPositionDelay:500,target:c,preventDefaultTouchEvents:!0,loop:!0,slideSpeed:250,nextPreviousSlideSpeed:0,enableDrag:!0,swipeThreshold:50,swipeTimeThreshold:250,slideTimingFunction:"ease-out",slideshowDelay:3E3,doubleTapSpeed:250,margin:20,imageScaleMethod:"fit",captionAndToolbarHide:!1,captionAndToolbarFlipPosition:!1,
captionAndToolbarAutoHideDelay:5E3,captionAndToolbarOpacity:0.8,captionAndToolbarShowEmptyCaptions:!0,getToolbar:h.Toolbar.getToolbar,allowUserZoom:!0,allowRotationOnUserZoom:!1,maxUserZoom:5,minUserZoom:0.5,doubleTapZoomLevel:2.5,getImageSource:h.Cache.Functions.getImageSource,getImageCaption:h.Cache.Functions.getImageCaption,getImageMetaData:h.Cache.Functions.getImageMetaData,cacheMode:h.Cache.Mode.normal};b.extend(this.settings,e);this.settings.target===c||(e=b.DOM.getStyle(this.settings.target,
"position"),"relative"===e&&"absolute"===e||b.DOM.setStyle(this.settings.target,"position","relative"));this.settings.target!==c?(this.isBackEventSupported=!1,this.settings.backButtonHideEnabled=!1):this.settings.preventHide&&(this.settings.backButtonHideEnabled=!1);this.cache=new a.CacheClass(d,this.settings)},show:function(a){var d,e;this.backButtonClicked=this._isResettingPosition=!1;if(b.isNumber(a))this.currentIndex=a;else for(this.currentIndex=-1,d=0,e=this.originalImages.length;d<e;d++)if(this.originalImages[d]===
a){this.currentIndex=d;break}if(0>this.currentIndex||this.currentIndex>this.originalImages.length-1)throw"Code.PhotoSwipe.PhotoSwipeClass.show: Starting index out of range";this.isAlreadyGettingPage=this.getWindowDimensions();h.setActivateInstance(this);this.windowDimensions=this.getWindowDimensions();this.settings.target===c?b.DOM.addClass(c.document.body,h.CssClasses.buildingBody):b.DOM.addClass(this.settings.target,h.CssClasses.buildingBody);this.createComponents();b.Events.fire(this,{type:h.EventTypes.onBeforeShow,
target:this});this.documentOverlay.fadeIn(this.settings.fadeInSpeed,this.onDocumentOverlayFadeIn.bind(this))},getWindowDimensions:function(){return{width:b.DOM.windowWidth(),height:b.DOM.windowHeight()}},createComponents:function(){this.documentOverlay=new d.DocumentOverlayClass(this.settings);this.carousel=new g.CarouselClass(this.cache,this.settings);this.uiLayer=new l.UILayerClass(this.settings);this.settings.captionAndToolbarHide||(this.toolbar=new f.ToolbarClass(this.cache,this.settings))},resetPosition:function(){if(!this._isResettingPosition){var a=
this.getWindowDimensions();if(b.isNothing(this.windowDimensions)||a.width!==this.windowDimensions.width||a.height!==this.windowDimensions.height)this._isResettingPosition=!0,this.windowDimensions=a,this.destroyZoomPanRotate(),this.documentOverlay.resetPosition(),this.carousel.resetPosition(),b.isNothing(this.toolbar)||this.toolbar.resetPosition(),this.uiLayer.resetPosition(),this._isResettingPosition=!1,b.Events.fire(this,{type:h.EventTypes.onResetPosition,target:this})}},addEventHandler:function(a,
c){b.Events.add(this,a,c)},addEventHandlers:function(){b.isNothing(this.windowOrientationChangeHandler)&&(this.windowOrientationChangeHandler=this.onWindowOrientationChange.bind(this),this.windowScrollHandler=this.onWindowScroll.bind(this),this.keyDownHandler=this.onKeyDown.bind(this),this.windowHashChangeHandler=this.onWindowHashChange.bind(this),this.uiLayerTouchHandler=this.onUILayerTouch.bind(this),this.carouselSlideByEndHandler=this.onCarouselSlideByEnd.bind(this),this.carouselSlideshowStartHandler=
this.onCarouselSlideshowStart.bind(this),this.carouselSlideshowStopHandler=this.onCarouselSlideshowStop.bind(this),this.toolbarTapHandler=this.onToolbarTap.bind(this),this.toolbarBeforeShowHandler=this.onToolbarBeforeShow.bind(this),this.toolbarShowHandler=this.onToolbarShow.bind(this),this.toolbarBeforeHideHandler=this.onToolbarBeforeHide.bind(this),this.toolbarHideHandler=this.onToolbarHide.bind(this),this.mouseWheelHandler=this.onMouseWheel.bind(this),this.zoomPanRotateTransformHandler=this.onZoomPanRotateTransform.bind(this));
b.Browser.android?this.orientationEventName="resize":b.Browser.iOS&&!b.Browser.safari?b.Events.add(c.document.body,"orientationchange",this.windowOrientationChangeHandler):this.orientationEventName=b.isNothing(c.onorientationchange)?"resize":"orientationchange";b.isNothing(this.orientationEventName)||b.Events.add(c,this.orientationEventName,this.windowOrientationChangeHandler);this.settings.target===c&&b.Events.add(c,"scroll",this.windowScrollHandler);this.settings.enableKeyboard&&b.Events.add(c.document,
"keydown",this.keyDownHandler);this.isBackEventSupported&&this.settings.backButtonHideEnabled&&(this.windowHashChangeHandler=this.onWindowHashChange.bind(this),this.settings.jQueryMobile?c.location.hash=this.settings.jQueryMobileDialogHash:(this.currentHistoryHashValue="PhotoSwipe"+(new Date).getTime().toString(),c.location.hash=this.currentHistoryHashValue),b.Events.add(c,"hashchange",this.windowHashChangeHandler));this.settings.enableMouseWheel&&b.Events.add(c,"mousewheel",this.mouseWheelHandler);
b.Events.add(this.uiLayer,b.TouchElement.EventTypes.onTouch,this.uiLayerTouchHandler);b.Events.add(this.carousel,g.EventTypes.onSlideByEnd,this.carouselSlideByEndHandler);b.Events.add(this.carousel,g.EventTypes.onSlideshowStart,this.carouselSlideshowStartHandler);b.Events.add(this.carousel,g.EventTypes.onSlideshowStop,this.carouselSlideshowStopHandler);b.isNothing(this.toolbar)||(b.Events.add(this.toolbar,f.EventTypes.onTap,this.toolbarTapHandler),b.Events.add(this.toolbar,f.EventTypes.onBeforeShow,
this.toolbarBeforeShowHandler),b.Events.add(this.toolbar,f.EventTypes.onShow,this.toolbarShowHandler),b.Events.add(this.toolbar,f.EventTypes.onBeforeHide,this.toolbarBeforeHideHandler),b.Events.add(this.toolbar,f.EventTypes.onHide,this.toolbarHideHandler))},removeEventHandlers:function(){b.Browser.iOS&&!b.Browser.safari&&b.Events.remove(c.document.body,"orientationchange",this.windowOrientationChangeHandler);b.isNothing(this.orientationEventName)||b.Events.remove(c,this.orientationEventName,this.windowOrientationChangeHandler);
b.Events.remove(c,"scroll",this.windowScrollHandler);this.settings.enableKeyboard&&b.Events.remove(c.document,"keydown",this.keyDownHandler);this.isBackEventSupported&&this.settings.backButtonHideEnabled&&b.Events.remove(c,"hashchange",this.windowHashChangeHandler);this.settings.enableMouseWheel&&b.Events.remove(c,"mousewheel",this.mouseWheelHandler);b.isNothing(this.uiLayer)||b.Events.remove(this.uiLayer,b.TouchElement.EventTypes.onTouch,this.uiLayerTouchHandler);b.isNothing(this.toolbar)||(b.Events.remove(this.carousel,
g.EventTypes.onSlideByEnd,this.carouselSlideByEndHandler),b.Events.remove(this.carousel,g.EventTypes.onSlideshowStart,this.carouselSlideshowStartHandler),b.Events.remove(this.carousel,g.EventTypes.onSlideshowStop,this.carouselSlideshowStopHandler));b.isNothing(this.toolbar)||(b.Events.remove(this.toolbar,f.EventTypes.onTap,this.toolbarTapHandler),b.Events.remove(this.toolbar,f.EventTypes.onBeforeShow,this.toolbarBeforeShowHandler),b.Events.remove(this.toolbar,f.EventTypes.onShow,this.toolbarShowHandler),
b.Events.remove(this.toolbar,f.EventTypes.onBeforeHide,this.toolbarBeforeHideHandler),b.Events.remove(this.toolbar,f.EventTypes.onHide,this.toolbarHideHandler))},hide:function(){if(!this.settings.preventHide){if(b.isNothing(this.documentOverlay))throw"Code.PhotoSwipe.PhotoSwipeClass.hide: PhotoSwipe instance is already hidden";b.isNothing(this.hiding)&&(this.clearUIWebViewResetPositionTimeout(),this.destroyZoomPanRotate(),this.removeEventHandlers(),b.Events.fire(this,{type:h.EventTypes.onBeforeHide,
target:this}),this.uiLayer.dispose(),this.uiLayer=null,b.isNothing(this.toolbar)||(this.toolbar.dispose(),this.toolbar=null),this.carousel.dispose(),this.carousel=null,b.DOM.removeClass(c.document.body,h.CssClasses.activeBody),this.documentOverlay.dispose(),this.documentOverlay=null,this._isResettingPosition=!1,h.unsetActivateInstance(this),b.Events.fire(this,{type:h.EventTypes.onHide,target:this}),this.goBackInHistory())}},goBackInHistory:function(){this.isBackEventSupported&&this.settings.backButtonHideEnabled&&
(this.backButtonClicked||c.history.back())},play:function(){this.isZoomActive()||this.settings.preventSlideshow||b.isNothing(this.carousel)||(!b.isNothing(this.toolbar)&&this.toolbar.isVisible&&this.toolbar.fadeOut(),this.carousel.startSlideshow())},stop:function(){this.isZoomActive()||b.isNothing(this.carousel)||this.carousel.stopSlideshow()},previous:function(){this.isZoomActive()||b.isNothing(this.carousel)||this.carousel.previous()},next:function(){this.isZoomActive()||b.isNothing(this.carousel)||
this.carousel.next()},toggleToolbar:function(){this.isZoomActive()||b.isNothing(this.toolbar)||this.toolbar.toggleVisibility(this.currentIndex)},fadeOutToolbarIfVisible:function(){!b.isNothing(this.toolbar)&&this.toolbar.isVisible&&0<this.settings.captionAndToolbarAutoHideDelay&&this.toolbar.fadeOut()},createZoomPanRotate:function(){this.stop();this.canUserZoom()&&!this.isZoomActive()&&(b.Events.fire(this,h.EventTypes.onBeforeZoomPanRotateShow),this.zoomPanRotate=new k.ZoomPanRotateClass(this.settings,
this.cache.images[this.currentIndex],this.uiLayer),this.uiLayer.captureSettings.preventDefaultTouchEvents=!0,b.Events.add(this.zoomPanRotate,h.ZoomPanRotate.EventTypes.onTransform,this.zoomPanRotateTransformHandler),b.Events.fire(this,h.EventTypes.onZoomPanRotateShow),!b.isNothing(this.toolbar)&&this.toolbar.isVisible&&this.toolbar.fadeOut())},destroyZoomPanRotate:function(){b.isNothing(this.zoomPanRotate)||(b.Events.fire(this,h.EventTypes.onBeforeZoomPanRotateHide),b.Events.remove(this.zoomPanRotate,
h.ZoomPanRotate.EventTypes.onTransform,this.zoomPanRotateTransformHandler),this.zoomPanRotate.dispose(),this.zoomPanRotate=null,this.uiLayer.captureSettings.preventDefaultTouchEvents=this.settings.preventDefaultTouchEvents,b.Events.fire(this,h.EventTypes.onZoomPanRotateHide))},canUserZoom:function(){var a;if(b.Browser.msie){if(a=document.createElement("div"),b.isNothing(a.style.msTransform))return!1}else if(!b.Browser.isCSSTransformSupported)return!1;if(!this.settings.allowUserZoom||this.carousel.isSliding)return!1;
a=this.cache.images[this.currentIndex];return b.isNothing(a)||a.isLoading?!1:!0},isZoomActive:function(){return!b.isNothing(this.zoomPanRotate)},getCurrentImage:function(){return this.cache.images[this.currentIndex]},onDocumentOverlayFadeIn:function(){c.setTimeout(function(){var a=this.settings.target===c?c.document.body:this.settings.target;b.DOM.removeClass(a,h.CssClasses.buildingBody);b.DOM.addClass(a,h.CssClasses.activeBody);this.addEventHandlers();this.carousel.show(this.currentIndex);this.uiLayer.show();
this.settings.autoStartSlideshow?this.play():b.isNothing(this.toolbar)||this.toolbar.show(this.currentIndex);b.Events.fire(this,{type:h.EventTypes.onShow,target:this});this.setUIWebViewResetPositionTimeout()}.bind(this),250)},setUIWebViewResetPositionTimeout:function(){this.settings.enableUIWebViewRepositionTimeout&&b.Browser.iOS&&!b.Browser.safari&&(b.isNothing(this._uiWebViewResetPositionTimeout)||c.clearTimeout(this._uiWebViewResetPositionTimeout),this._uiWebViewResetPositionTimeout=c.setTimeout(function(){this.resetPosition();
this.setUIWebViewResetPositionTimeout()}.bind(this),this.settings.uiWebViewResetPositionDelay))},clearUIWebViewResetPositionTimeout:function(){b.isNothing(this._uiWebViewResetPositionTimeout)||c.clearTimeout(this._uiWebViewResetPositionTimeout)},onWindowScroll:function(){this.resetPosition()},onWindowOrientationChange:function(){this.resetPosition()},onWindowHashChange:function(){c.location.hash!=="#"+(this.settings.jQueryMobile?this.settings.jQueryMobileDialogHash:this.currentHistoryHashValue)&&
(this.backButtonClicked=!0,this.hide())},onKeyDown:function(a){37===a.keyCode?(a.preventDefault(),this.previous()):39===a.keyCode?(a.preventDefault(),this.next()):38===a.keyCode||40===a.keyCode?a.preventDefault():27===a.keyCode?(a.preventDefault(),this.hide()):32===a.keyCode?(this.settings.hideToolbar?this.hide():this.toggleToolbar(),a.preventDefault()):13===a.keyCode&&(a.preventDefault(),this.play())},onUILayerTouch:function(a){if(this.isZoomActive())switch(a.action){case b.TouchElement.ActionTypes.gestureChange:this.zoomPanRotate.zoomRotate(a.scale,
this.settings.allowRotationOnUserZoom?a.rotation:0);break;case b.TouchElement.ActionTypes.gestureEnd:this.zoomPanRotate.setStartingScaleAndRotation(a.scale,this.settings.allowRotationOnUserZoom?a.rotation:0);break;case b.TouchElement.ActionTypes.touchStart:this.zoomPanRotate.panStart(a.point);break;case b.TouchElement.ActionTypes.touchMove:this.zoomPanRotate.pan(a.point);break;case b.TouchElement.ActionTypes.doubleTap:this.destroyZoomPanRotate();this.toggleToolbar();break;case b.TouchElement.ActionTypes.swipeLeft:this.destroyZoomPanRotate();
this.next();this.toggleToolbar();break;case b.TouchElement.ActionTypes.swipeRight:this.destroyZoomPanRotate(),this.previous(),this.toggleToolbar()}else switch(a.action){case b.TouchElement.ActionTypes.touchMove:case b.TouchElement.ActionTypes.swipeLeft:case b.TouchElement.ActionTypes.swipeRight:this.fadeOutToolbarIfVisible();this.carousel.onTouch(a.action,a.point);break;case b.TouchElement.ActionTypes.touchStart:case b.TouchElement.ActionTypes.touchMoveEnd:this.carousel.onTouch(a.action,a.point);
break;case b.TouchElement.ActionTypes.tap:this.toggleToolbar();break;case b.TouchElement.ActionTypes.doubleTap:this.settings.target===c&&(a.point.x-=b.DOM.windowScrollLeft(),a.point.y-=b.DOM.windowScrollTop());var d=this.cache.images[this.currentIndex].imageEl,e=c.parseInt(b.DOM.getStyle(d,"top"),10),f=c.parseInt(b.DOM.getStyle(d,"left"),10),g=f+b.DOM.width(d),d=e+b.DOM.height(d);a.point.x<f?a.point.x=f:a.point.x>g&&(a.point.x=g);a.point.y<e?a.point.y=e:a.point.y>d&&(a.point.y=d);this.createZoomPanRotate();
this.isZoomActive()&&this.zoomPanRotate.zoomAndPanToPoint(this.settings.doubleTapZoomLevel,a.point);break;case b.TouchElement.ActionTypes.gestureStart:this.createZoomPanRotate()}b.Events.fire(this,{type:h.EventTypes.onTouch,target:this,point:a.point,action:a.action})},onCarouselSlideByEnd:function(a){this.currentIndex=a.cacheIndex;b.isNothing(this.toolbar)||(this.toolbar.setCaption(this.currentIndex),this.toolbar.setToolbarStatus(this.currentIndex));b.Events.fire(this,{type:h.EventTypes.onDisplayImage,
target:this,action:a.action,index:a.cacheIndex})},onToolbarTap:function(a){switch(a.action){case f.ToolbarAction.next:this.next();break;case f.ToolbarAction.previous:this.previous();break;case f.ToolbarAction.close:this.hide();break;case f.ToolbarAction.play:this.play()}b.Events.fire(this,{type:h.EventTypes.onToolbarTap,target:this,toolbarAction:a.action,tapTarget:a.tapTarget})},onMouseWheel:function(a){var c=b.Events.getWheelDelta(a);a.timeStamp-(this.mouseWheelStartTime||0)<this.settings.mouseWheelSpeed||
(this.mouseWheelStartTime=a.timeStamp,this.settings.invertMouseWheel&&(c*=-1),0>c?this.next():0<c&&this.previous())},onCarouselSlideshowStart:function(){b.Events.fire(this,{type:h.EventTypes.onSlideshowStart,target:this})},onCarouselSlideshowStop:function(){b.Events.fire(this,{type:h.EventTypes.onSlideshowStop,target:this})},onToolbarBeforeShow:function(){b.Events.fire(this,{type:h.EventTypes.onBeforeCaptionAndToolbarShow,target:this})},onToolbarShow:function(){b.Events.fire(this,{type:h.EventTypes.onCaptionAndToolbarShow,
target:this})},onToolbarBeforeHide:function(){b.Events.fire(this,{type:h.EventTypes.onBeforeCaptionAndToolbarHide,target:this})},onToolbarHide:function(){b.Events.fire(this,{type:h.EventTypes.onCaptionAndToolbarHide,target:this})},onZoomPanRotateTransform:function(a){b.Events.fire(this,{target:this,type:h.EventTypes.onZoomPanRotateTransform,scale:a.scale,rotation:a.rotation,rotationDegs:a.rotationDegs,translateX:a.translateX,translateY:a.translateY})}})})(window,window.klass,window.Code.Util,window.Code.PhotoSwipe.Cache,
window.Code.PhotoSwipe.DocumentOverlay,window.Code.PhotoSwipe.Carousel,window.Code.PhotoSwipe.Toolbar,window.Code.PhotoSwipe.UILayer,window.Code.PhotoSwipe.ZoomPanRotate);
(function(c){c.flexslider=function(e,b){var a=c(e),d=c.extend({},c.flexslider.defaults,b),g=d.namespace,f="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,l=f?"touchend":"click",k="vertical"===d.direction,h=d.reverse,p=0<d.itemWidth,n="fade"===d.animation,r=""!==d.asNavFor,m={};c.data(e,"flexslider",a);m={init:function(){a.animating=!1;a.currentSlide=d.startAt;a.animatingTo=a.currentSlide;a.atEnd=0===a.currentSlide||a.currentSlide===a.last;a.containerSelector=d.selector.substr(0,
d.selector.search(" "));a.slides=c(d.selector,a);a.container=c(a.containerSelector,a);a.count=a.slides.length;a.syncExists=0<c(d.sync).length;"slide"===d.animation&&(d.animation="swing");a.prop=k?"top":"marginLeft";a.args={};a.manualPause=!1;var b=a,e;if(e=!d.video)if(e=!n)if(e=d.useCSS)a:{e=document.createElement("div");var g=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"],h;for(h in g)if(void 0!==e.style[g[h]]){a.pfx=g[h].replace("Perspective","").toLowerCase();
a.prop="-"+a.pfx+"-transform";e=!0;break a}e=!1}b.transitions=e;""!==d.controlsContainer&&(a.controlsContainer=0<c(d.controlsContainer).length&&c(d.controlsContainer));""!==d.manualControls&&(a.manualControls=0<c(d.manualControls).length&&c(d.manualControls));d.randomize&&(a.slides.sort(function(){return Math.round(Math.random())-0.5}),a.container.empty().append(a.slides));a.doMath();r&&m.asNav.setup();a.setup("init");d.controlNav&&m.controlNav.setup();d.directionNav&&m.directionNav.setup();d.keyboard&&
(1===c(a.containerSelector).length||d.multipleKeyboard)&&c(document).bind("keyup",function(b){b=b.keyCode;a.animating||39!==b&&37!==b||(b=39===b?a.getTarget("next"):37===b?a.getTarget("prev"):!1,a.flexAnimate(b,d.pauseOnAction))});d.mousewheel&&a.bind("mousewheel",function(b,c){b.preventDefault();var e=0>c?a.getTarget("next"):a.getTarget("prev");a.flexAnimate(e,d.pauseOnAction)});d.pausePlay&&m.pausePlay.setup();d.slideshow&&(d.pauseOnHover&&a.hover(function(){a.manualPlay||a.manualPause||a.pause()},
function(){a.manualPause||a.manualPlay||a.play()}),0<d.initDelay?setTimeout(a.play,d.initDelay):a.play());f&&d.touch&&m.touch();(!n||n&&d.smoothHeight)&&c(window).bind("resize focus",m.resize);setTimeout(function(){d.start(a)},200)},asNav:{setup:function(){a.asNav=!0;a.animatingTo=Math.floor(a.currentSlide/a.move);a.currentItem=a.currentSlide;a.slides.removeClass(g+"active-slide").eq(a.currentItem).addClass(g+"active-slide");a.slides.click(function(b){b.preventDefault();b=c(this);var e=b.index();
c(d.asNavFor).data("flexslider").animating||b.hasClass("active")||(a.direction=a.currentItem<e?"next":"prev",a.flexAnimate(e,d.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){a.manualControls?m.controlNav.setupManual():m.controlNav.setupPaging()},setupPaging:function(){var b=1,e;a.controlNavScaffold=c('<ol class="'+g+"control-nav "+g+("thumbnails"===d.controlNav?"control-thumbs":"control-paging")+'"></ol>');if(1<a.pagingCount)for(var h=0;h<a.pagingCount;h++)e="thumbnails"===d.controlNav?
'<img src="'+a.slides.eq(h).attr("data-thumb")+'"/>':"<a>"+b+"</a>",a.controlNavScaffold.append("<li>"+e+"</li>"),b++;a.controlsContainer?c(a.controlsContainer).append(a.controlNavScaffold):a.append(a.controlNavScaffold);m.controlNav.set();m.controlNav.active();a.controlNavScaffold.delegate("a, img",l,function(b){b.preventDefault();b=c(this);var e=a.controlNav.index(b);b.hasClass(g+"active")||(a.direction=e>a.currentSlide?"next":"prev",a.flexAnimate(e,d.pauseOnAction))});f&&a.controlNavScaffold.delegate("a",
"click touchstart",function(a){a.preventDefault()})},setupManual:function(){a.controlNav=a.manualControls;m.controlNav.active();a.controlNav.live(l,function(b){b.preventDefault();b=c(this);var e=a.controlNav.index(b);b.hasClass(g+"active")||(e>a.currentSlide?a.direction="next":a.direction="prev",a.flexAnimate(e,d.pauseOnAction))});f&&a.controlNav.live("click touchstart",function(a){a.preventDefault()})},set:function(){a.controlNav=c("."+g+"control-nav li "+("thumbnails"===d.controlNav?"img":"a"),
a.controlsContainer?a.controlsContainer:a)},active:function(){a.controlNav.removeClass(g+"active").eq(a.animatingTo).addClass(g+"active")},update:function(b,d){1<a.pagingCount&&"add"===b?a.controlNavScaffold.append(c("<li><a>"+a.count+"</a></li>")):1===a.pagingCount?a.controlNavScaffold.find("li").remove():a.controlNav.eq(d).closest("li").remove();m.controlNav.set();1<a.pagingCount&&a.pagingCount!==a.controlNav.length?a.update(d,b):m.controlNav.active()}},directionNav:{setup:function(){var b=c('<ul class="'+
g+'direction-nav"><li><a class="'+g+'prev" href="#">'+d.prevText+'</a></li><li><a class="'+g+'next" href="#">'+d.nextText+"</a></li></ul>");a.controlsContainer?(c(a.controlsContainer).append(b),a.directionNav=c("."+g+"direction-nav li a",a.controlsContainer)):(a.append(b),a.directionNav=c("."+g+"direction-nav li a",a));m.directionNav.update();a.directionNav.bind(l,function(b){b.preventDefault();b=c(this).hasClass(g+"next")?a.getTarget("next"):a.getTarget("prev");a.flexAnimate(b,d.pauseOnAction)});
f&&a.directionNav.bind("click touchstart",function(a){a.preventDefault()})},update:function(){var b=g+"disabled";1===a.pagingCount?a.directionNav.addClass(b):d.animationLoop?a.directionNav.removeClass(b):0===a.animatingTo?a.directionNav.removeClass(b).filter("."+g+"prev").addClass(b):a.animatingTo===a.last?a.directionNav.removeClass(b).filter("."+g+"next").addClass(b):a.directionNav.removeClass(b)}},pausePlay:{setup:function(){var b=c('<div class="'+g+'pauseplay"><a></a></div>');a.controlsContainer?
(a.controlsContainer.append(b),a.pausePlay=c("."+g+"pauseplay a",a.controlsContainer)):(a.append(b),a.pausePlay=c("."+g+"pauseplay a",a));m.pausePlay.update(d.slideshow?g+"pause":g+"play");a.pausePlay.bind(l,function(b){b.preventDefault();c(this).hasClass(g+"pause")?(a.manualPause=!0,a.manualPlay=!1,a.pause()):(a.manualPause=!1,a.manualPlay=!0,a.play())});f&&a.pausePlay.bind("click touchstart",function(a){a.preventDefault()})},update:function(b){"play"===b?a.pausePlay.removeClass(g+"pause").addClass(g+
"play").text(d.playText):a.pausePlay.removeClass(g+"play").addClass(g+"pause").text(d.pauseText)}},touch:function(){function b(c){q=k?f-c.touches[0].pageY:f-c.touches[0].pageX;u=k?Math.abs(q)<Math.abs(c.touches[0].pageX-g):Math.abs(q)<Math.abs(c.touches[0].pageY-g);if(!u||500<Number(new Date)-r)c.preventDefault(),!n&&a.transitions&&(d.animationLoop||(q/=0===a.currentSlide&&0>q||a.currentSlide===a.last&&0<q?Math.abs(q)/m+2:1),a.setProps(l+q,"setTouch"))}function c(){e.removeEventListener("touchmove",
b,!1);if(a.animatingTo===a.currentSlide&&!u&&null!==q){var k=h?-q:q,p=0<k?a.getTarget("next"):a.getTarget("prev");a.canAdvance(p)&&(550>Number(new Date)-r&&50<Math.abs(k)||Math.abs(k)>m/2)?a.flexAnimate(p,d.pauseOnAction):n||a.flexAnimate(a.currentSlide,d.pauseOnAction,!0)}e.removeEventListener("touchend",c,!1);l=q=g=f=null}var f,g,l,m,q,r,u=!1;e.addEventListener("touchstart",function(n){a.animating?n.preventDefault():1===n.touches.length&&(a.pause(),m=k?a.h:a.w,r=Number(new Date),l=p&&h&&a.animatingTo===
a.last?0:p&&h?a.limit-(a.itemW+d.itemMargin)*a.move*a.animatingTo:p&&a.currentSlide===a.last?a.limit:p?(a.itemW+d.itemMargin)*a.move*a.currentSlide:h?(a.last-a.currentSlide+a.cloneOffset)*m:(a.currentSlide+a.cloneOffset)*m,f=k?n.touches[0].pageY:n.touches[0].pageX,g=k?n.touches[0].pageX:n.touches[0].pageY,e.addEventListener("touchmove",b,!1),e.addEventListener("touchend",c,!1))},!1)},resize:function(){!a.animating&&a.is(":visible")&&(p||a.doMath(),n?m.smoothHeight():p?(a.slides.width(a.computedW),
a.update(a.pagingCount),a.setProps()):k?(a.viewport.height(a.h),a.setProps(a.h,"setTotal")):(d.smoothHeight&&m.smoothHeight(),a.newSlides.width(a.computedW),a.setProps(a.computedW,"setTotal")))},smoothHeight:function(b){if(!k||n){var c=n?a:a.viewport;b?c.animate({height:a.slides.eq(a.animatingTo).height()},b):c.height(a.slides.eq(a.animatingTo).height())}},sync:function(b){var e=c(d.sync).data("flexslider"),f=a.animatingTo;switch(b){case "animate":e.flexAnimate(f,d.pauseOnAction,!1,!0);break;case "play":e.playing||
e.asNav||e.play();break;case "pause":e.pause()}}};a.flexAnimate=function(b,e,l,v,t){r&&1===a.pagingCount&&(a.direction=a.currentItem<b?"next":"prev");if(!a.animating&&(a.canAdvance(b,t)||l)&&a.is(":visible")){if(r&&v)if(l=c(d.asNavFor).data("flexslider"),a.atEnd=0===b||b===a.count-1,l.flexAnimate(b,!0,!1,!0,t),a.direction=a.currentItem<b?"next":"prev",l.direction=a.direction,Math.ceil((b+1)/a.visible)-1!==a.currentSlide&&0!==b)a.currentItem=b,a.slides.removeClass(g+"active-slide").eq(b).addClass(g+
"active-slide"),b=Math.floor(b/a.visible);else return a.currentItem=b,a.slides.removeClass(g+"active-slide").eq(b).addClass(g+"active-slide"),!1;a.animating=!0;a.animatingTo=b;d.before(a);e&&a.pause();a.syncExists&&!t&&m.sync("animate");d.controlNav&&m.controlNav.active();p||a.slides.removeClass(g+"active-slide").eq(b).addClass(g+"active-slide");a.atEnd=0===b||b===a.last;d.directionNav&&m.directionNav.update();b===a.last&&(d.end(a),d.animationLoop||a.pause());if(n)f?(a.slides.eq(a.currentSlide).css({opacity:0,
zIndex:1}),a.slides.eq(b).css({opacity:1,zIndex:2}),a.animating=!1,a.currentSlide=a.animatingTo):(a.slides.eq(a.currentSlide).fadeOut(d.animationSpeed,d.easing),a.slides.eq(b).fadeIn(d.animationSpeed,d.easing,a.wrapup));else{var s=k?a.slides.filter(":first").height():a.computedW;p?(b=d.itemWidth>a.w?2*d.itemMargin:d.itemMargin,b=(a.itemW+b)*a.move*a.animatingTo,b=b>a.limit&&1!==a.visible?a.limit:b):b=0===a.currentSlide&&b===a.count-1&&d.animationLoop&&"next"!==a.direction?h?(a.count+a.cloneOffset)*
s:0:a.currentSlide===a.last&&0===b&&d.animationLoop&&"prev"!==a.direction?h?0:(a.count+1)*s:h?(a.count-1-b+a.cloneOffset)*s:(b+a.cloneOffset)*s;a.setProps(b,"",d.animationSpeed);a.transitions?(d.animationLoop&&a.atEnd||(a.animating=!1,a.currentSlide=a.animatingTo),a.container.unbind("webkitTransitionEnd transitionend"),a.container.bind("webkitTransitionEnd transitionend",function(){a.wrapup(s)})):a.container.animate(a.args,d.animationSpeed,d.easing,function(){a.wrapup(s)})}d.smoothHeight&&m.smoothHeight(d.animationSpeed)}};
a.wrapup=function(b){!n&&!p&&(0===a.currentSlide&&a.animatingTo===a.last&&d.animationLoop?a.setProps(b,"jumpEnd"):a.currentSlide===a.last&&0===a.animatingTo&&d.animationLoop&&a.setProps(b,"jumpStart"));a.animating=!1;a.currentSlide=a.animatingTo;d.after(a)};a.animateSlides=function(){a.animating||a.flexAnimate(a.getTarget("next"))};a.pause=function(){clearInterval(a.animatedSlides);a.playing=!1;d.pausePlay&&m.pausePlay.update("play");a.syncExists&&m.sync("pause")};a.play=function(){a.animatedSlides=
setInterval(a.animateSlides,d.slideshowSpeed);a.playing=!0;d.pausePlay&&m.pausePlay.update("pause");a.syncExists&&m.sync("play")};a.canAdvance=function(b,c){var e=r?a.pagingCount-1:a.last;return c?!0:r&&a.currentItem===a.count-1&&0===b&&"prev"===a.direction?!0:r&&0===a.currentItem&&b===a.pagingCount-1&&"next"!==a.direction?!1:b!==a.currentSlide||r?d.animationLoop?!0:a.atEnd&&0===a.currentSlide&&b===e&&"next"!==a.direction?!1:a.atEnd&&a.currentSlide===e&&0===b&&"next"===a.direction?!1:!0:!1};a.getTarget=
function(b){a.direction=b;return"next"===b?a.currentSlide===a.last?0:a.currentSlide+1:0===a.currentSlide?a.last:a.currentSlide-1};a.setProps=function(b,c,e){var f,g=b?b:(a.itemW+d.itemMargin)*a.move*a.animatingTo;f=-1*function(){if(p)return"setTouch"===c?b:h&&a.animatingTo===a.last?0:h?a.limit-(a.itemW+d.itemMargin)*a.move*a.animatingTo:a.animatingTo===a.last?a.limit:g;switch(c){case "setTotal":return h?(a.count-1-a.currentSlide+a.cloneOffset)*b:(a.currentSlide+a.cloneOffset)*b;case "setTouch":return b;
case "jumpEnd":return h?b:a.count*b;case "jumpStart":return h?a.count*b:b;default:return b}}()+"px";a.transitions&&(f=k?"translate3d(0,"+f+",0)":"translate3d("+f+",0,0)",e=void 0!==e?e/1E3+"s":"0s",a.container.css("-"+a.pfx+"-transition-duration",e));a.args[a.prop]=f;(a.transitions||void 0===e)&&a.container.css(a.args)};a.setup=function(b){if(n)a.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===b&&(f?a.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+
d.animationSpeed/1E3+"s ease",zIndex:1}).eq(a.currentSlide).css({opacity:1,zIndex:2}):a.slides.eq(a.currentSlide).fadeIn(d.animationSpeed,d.easing)),d.smoothHeight&&m.smoothHeight();else{var e,l;"init"===b&&(a.viewport=c('<div class="'+g+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(a).append(a.container),a.cloneCount=0,a.cloneOffset=0,h&&(l=c.makeArray(a.slides).reverse(),a.slides=c(l),a.container.empty().append(a.slides)));d.animationLoop&&!p&&(a.cloneCount=2,a.cloneOffset=
1,"init"!==b&&a.container.find(".clone").remove(),a.container.append(a.slides.first().clone().addClass("clone")).prepend(a.slides.last().clone().addClass("clone")));a.newSlides=c(d.selector,a);e=h?a.count-1-a.currentSlide+a.cloneOffset:a.currentSlide+a.cloneOffset;k&&!p?(a.container.height(200*(a.count+a.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){a.newSlides.css({display:"block"});a.doMath();a.viewport.height(a.h);a.setProps(e*a.h,"init")},"init"===b?100:0)):(a.container.width(200*
(a.count+a.cloneCount)+"%"),a.setProps(e*a.computedW,"init"),setTimeout(function(){a.doMath();a.newSlides.css({width:a.computedW,"float":"left",display:"block"});d.smoothHeight&&m.smoothHeight()},"init"===b?100:0))}p||a.slides.removeClass(g+"active-slide").eq(a.currentSlide).addClass(g+"active-slide")};a.doMath=function(){var b=a.slides.first(),c=d.itemMargin,e=d.minItems,f=d.maxItems;a.w=a.width();a.h=b.height();a.boxPadding=b.outerWidth()-b.width();p?(a.itemT=d.itemWidth+c,a.minW=e?e*a.itemT:a.w,
a.maxW=f?f*a.itemT:a.w,a.itemW=a.minW>a.w?(a.w-c*e)/e:a.maxW<a.w?(a.w-c*f)/f:d.itemWidth>a.w?a.w:d.itemWidth,a.visible=Math.floor(a.w/(a.itemW+c)),a.move=0<d.move&&d.move<a.visible?d.move:a.visible,a.pagingCount=Math.ceil((a.count-a.visible)/a.move+1),a.last=a.pagingCount-1,a.limit=1===a.pagingCount?0:d.itemWidth>a.w?(a.itemW+2*c)*a.count-a.w-c:(a.itemW+c)*a.count-a.w-c):(a.itemW=a.w,a.pagingCount=a.count,a.last=a.count-1);a.computedW=a.itemW-a.boxPadding};a.update=function(b,c){a.doMath();p||(b<
a.currentSlide?a.currentSlide+=1:b<=a.currentSlide&&0!==b&&(a.currentSlide-=1),a.animatingTo=a.currentSlide);if(d.controlNav&&!a.manualControls)if("add"===c&&!p||a.pagingCount>a.controlNav.length)m.controlNav.update("add");else if("remove"===c&&!p||a.pagingCount<a.controlNav.length)p&&a.currentSlide>a.last&&(a.currentSlide-=1,a.animatingTo-=1),m.controlNav.update("remove",a.last);d.directionNav&&m.directionNav.update()};a.addSlide=function(b,e){var f=c(b);a.count+=1;a.last=a.count-1;k&&h?void 0!==
e?a.slides.eq(a.count-e).after(f):a.container.prepend(f):void 0!==e?a.slides.eq(e).before(f):a.container.append(f);a.update(e,"add");a.slides=c(d.selector+":not(.clone)",a);a.setup();d.added(a)};a.removeSlide=function(b){var e=isNaN(b)?a.slides.index(c(b)):b;a.count-=1;a.last=a.count-1;isNaN(b)?c(b,a.slides).remove():k&&h?a.slides.eq(a.last).remove():a.slides.eq(b).remove();a.doMath();a.update(e,"remove");a.slides=c(d.selector+":not(.clone)",a);a.setup();d.removed(a)};m.init()};c.flexslider.defaults=
{namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7E3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",
itemWidth:0,itemMargin:0,minItems:0,maxItems:0,move:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}};c.fn.flexslider=function(e){void 0===e&&(e={});if("object"===typeof e)return this.each(function(){var a=c(this),b=a.find(e.selector?e.selector:".slides > li");1===b.length?(b.fadeIn(400),e.start&&e.start(a)):void 0===a.data("flexslider")&&new c.flexslider(this,e)});var b=c(this).data("flexslider");switch(e){case "play":b.play();break;
case "pause":b.pause();break;case "next":b.flexAnimate(b.getTarget("next"),!0);break;case "prev":case "previous":b.flexAnimate(b.getTarget("prev"),!0);break;default:"number"===typeof e&&b.flexAnimate(e,!0)}}})(jQuery);
!0==$.browser.safari&&(document.getElementById("contentWrapper").addEventListener("touchstart",function(c){this.allowUp=0<this.scrollTop;this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight;this.prevBot=this.prevTop=null;this.lastY=c.pageY}),document.getElementById("contentWrapper").addEventListener("touchmove",function(c){var e=c.pageY>this.lastY;this.lastY=c.pageY;e&&this.allowUp||!e&&this.allowDown?c.stopPropagation():c.preventDefault()}));
$("body").on("touchmove",".noscroll",function(c){c.stopPropagation();c.stopImmediatePropagation();c.preventDefault()});navigator.userAgent.match(/(iPad|iPhone|iPod touch);.*CPU.*OS 7_\d/i)&&document.body.classList.add("ios7");
